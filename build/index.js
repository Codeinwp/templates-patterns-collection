!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(e,t,r){var n;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=o(r);if("string"===n||"number"===n)e.push(r);else if(Array.isArray(r)&&r.length){var i=c.apply(null,r);i&&e.push(i)}else if("object"===n)for(var l in r)a.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):"object"===o(r(4))&&r(4)?void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n):window.classNames=c}()},,,function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r(8),u=r(9),s=r(10);function p(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function m(e,t){return t.encode?t.strict?l(e):encodeURIComponent(e):e}function f(e,t){return t.decode?u(e):e}function d(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function b(e){var t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function w(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function y(e,t){p((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var o="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((function(t){return f(t,e)})):null===r?r:f(r,e);n[t]=o};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;var i,l=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(e.split("&"));try{for(l.s();!(i=l.n()).done;){var u=i.value,m=n(s(t.decode?u.replace(/\+/g," "):u,"="),2),d=m[0],b=m[1];b=void 0===b?null:["comma","separator"].includes(t.arrayFormat)?b:f(b,t),r(f(d,t),b,a)}}catch(e){l.e(e)}finally{l.f()}for(var y=0,v=Object.keys(a);y<v.length;y++){var g=v[y],h=a[g];if("object"===o(h)&&null!==h)for(var k=0,_=Object.keys(h);k<_.length;k++){var E=_[k];h[E]=w(h[E],t)}else a[g]=w(h,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce((function(e,t){var r=a[t];return Boolean(r)&&"object"===o(r)&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===o(t)?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))}t.extract=b,t.parse=y,t.stringify=function(e,t){if(!e)return"";p((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var r=function(r){return t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r]},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[[m(t,e),"[",o,"]"].join("")]:[[m(t,e),"[",m(o,e),"]=",m(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[[m(t,e),"[]"].join("")]:[[m(t,e),"[]=",m(n,e)].join("")])}};case"comma":case"separator":return function(t){return function(r,n){return null==n||0===n.length?r:0===r.length?[[m(t,e),"=",m(n,e)].join("")]:[[r,m(n,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[m(t,e)]:[[m(t,e),"=",m(n,e)].join("")])}}}}(t),o={},c=0,i=Object.keys(e);c<i.length;c++){var l=i[c];r(l)||(o[l]=e[l])}var u=Object.keys(o);return!1!==t.sort&&u.sort(t.sort),u.map((function(r){var o=e[r];return void 0===o?"":null===o?m(r,t):Array.isArray(o)?o.reduce(n(r),[]).join("&"):m(r,t)+"="+m(o,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=n(s(e,"#"),2),o=r[0],a=r[1];return Object.assign({url:o.split("?")[0]||"",query:y(b(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:f(a,t)}:{})},t.stringifyUrl=function(e,r){r=Object.assign({encode:!0,strict:!0},r);var n=d(e.url).split("?")[0]||"",o=t.extract(e.url),a=t.parse(o,{sort:!1}),c=Object.assign(a,e.query),i=t.stringify(c,r);i&&(i="?".concat(i));var l=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l="#".concat(m(e.fragmentIdentifier,r))),"".concat(n).concat(i).concat(l)}},function(e,t){(function(t){e.exports=t}).call(this,{})},,,function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=wp.data.registerStore,c={isFetching:!0,isPreview:!1,tab:"library",templates:[],patterns:[],library:{items:[],currentPage:0,totalPages:0},preview:{type:"templates",item:{}}};a("tpc/block-editor",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return"SET_FETCHING"===t.type?n(n({},e),{},{isFetching:t.isFetching}):"TOGGLE_PREVIEW"===t.type?n(n({},e),{},{isPreview:!e.isPreview}):"UPDATE_CURRENT_TAB"===t.type?e.isPreview?e:n(n({},e),{},{tab:t.tab}):"UPDATE_TEMPLATES"===t.type?n(n({},e),{},{templates:t.items}):"UPDATE_PATTERNS"===t.type?n(n({},e),{},{patterns:t.items}):"UPDATE_LIBRARY"===t.type?n(n({},e),{},{library:{items:t.items,currentPage:Number(t.currentPage),totalPages:Number(t.totalPages)}}):"SET_PREVIEW_DATA"===t.type?n(n({},e),{},{preview:t.preview}):e},selectors:{isFetching:function(e){return e.isFetching},isPreview:function(e){return e.isPreview},getCurrentTab:function(e){return e.tab},getTemplates:function(e){return e.templates},getPatterns:function(e){return e.patterns},getLibrary:function(e){return e.library},getPreview:function(e){return e.preview}},actions:{setFetching:function(e){return{type:"SET_FETCHING",isFetching:e}},togglePreview:function(e){return{type:"TOGGLE_PREVIEW",isPreview:e}},updateCurrentTab:function(e){return{type:"UPDATE_CURRENT_TAB",tab:e}},updateTemplates:function(e){return{type:"UPDATE_TEMPLATES",items:e}},updatePatterns:function(e){return{type:"UPDATE_PATTERNS",items:e}},updateLibrary:function(e,t,r){return{type:"UPDATE_LIBRARY",items:e,currentPage:t,totalPages:r}},setPreviewData:function(e){return{type:"SET_PREVIEW_DATA",preview:e}}}})},function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function c(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],c(r),c(n))}function i(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(o),r=1;r<t.length;r++)t=(e=c(t,r).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+n(e)+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=a.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=i(r[0]);n!==r[0]&&(t[r[0]]=n)}r=a.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),c=0;c<o.length;c++){var l=o[c];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,r){"use strict";e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){"use strict";r.r(t);r(7);var n=wp.primitives,o=n.Path,a=n.SVG,c=function(){return wp.element.createElement(a,{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wp-block-themeisle-blocks-templates-cloud__icon"},wp.element.createElement(o,{d:"M95.0264 100H4.97356C2.22797 100 0 97.772 0 95.0264V4.97356C0 2.22797 2.22797 0 4.97356 0H95.0264C97.772 0 100 2.22797 100 4.97356V95.0264C100 97.772 97.772 100 95.0264 100Z",fill:"#0366D6"}),wp.element.createElement(o,{d:"M82.6941 86.7448V30.8205V18.4653H70.3502H14.4146L26.7584 30.8205H70.3502V74.401L82.6941 86.7448Z",fill:"white"}),wp.element.createElement(o,{d:"M42.2416 58.9291L42.2528 71.183L53.2352 82.1653L53.1902 47.9806L18.9941 47.9355L29.9765 58.9066L42.2416 58.9291Z",fill:"white"}))},i=r(12);function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var s=r(0),p=r.n(s);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d=function(e){return Object(i.createElement)("path",e)},b=function(e){var t=e.className,r=e.isPressed,n=f(f({},u(e,["className","isPressed"])),{},{className:p()(t,{"is-pressed":r})||void 0,role:"img","aria-hidden":!0,focusable:!1});return Object(i.createElement)("svg",n)},w=Object(i.createElement)(b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(i.createElement)(d,{d:"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z"})),y=Object(i.createElement)(b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(i.createElement)(d,{d:"M13 11.9l3.3-3.4-1.1-1-3.2 3.3-3.2-3.3-1.1 1 3.3 3.4-3.5 3.6 1 1L12 13l3.5 3.5 1-1z"})),v="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),g=new Uint8Array(16);function h(){if(!v)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(g)}var k=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var _=function(e){return"string"==typeof e&&k.test(e)},E=[],O=0;O<256;++O)E.push((O+256).toString(16).substr(1));var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(E[e[t+0]]+E[e[t+1]]+E[e[t+2]]+E[e[t+3]]+"-"+E[e[t+4]]+E[e[t+5]]+"-"+E[e[t+6]]+E[e[t+7]]+"-"+E[e[t+8]]+E[e[t+9]]+"-"+E[e[t+10]]+E[e[t+11]]+E[e[t+12]]+E[e[t+13]]+E[e[t+14]]+E[e[t+15]]).toLowerCase();if(!_(r))throw TypeError("Stringified UUID is invalid");return r};var x=function(e,t,r){var n=(e=e||{}).random||(e.rng||h)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return j(n)},P=r(3);function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function A(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){R(a,n,o,c,i,"next",e)}function i(e){R(a,n,o,c,i,"throw",e)}c(void 0)}))}}var N=wp.apiFetch,I=wp.data.dispatch,B=I("tpc/block-editor").updateLibrary,L=I("core/notices").createNotice,F=function(e){L("warning",e,{context:"themeisle-blocks/notices/templates-cloud",isDismissible:!0})},D=function(){var e=A(regeneratorRuntime.mark((function e(){var t,r,n,o,a,c,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{per_page:10,page:0},r=Object(P.stringifyUrl)({url:tiTpc.endpoint,query:T(T({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiTpc.params),t)}),e.prev=2,e.next=5,N({url:r,method:"GET",parse:!1});case 5:if(!(n=e.sent).ok){e.next=15;break}return e.next=9,n.json();case 9:if(!(o=e.sent).message){e.next=12;break}return e.abrupt("return",F(o.message));case 12:a=n.headers.get("x-wp-totalpages"),c=t.page,B(o,c,a);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),e.t0.message&&F(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(P.stringifyUrl)({url:tiTpc.endpoint+t.template_id,query:T(T({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiTpc.params),t)}),e.prev=1,e.next=4,N({url:r,method:"POST",data:t,parse:!1});case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:if(!(o=e.sent).message){e.next=11;break}return e.abrupt("return",F(o.message));case 11:return window.localStorage.setItem("tpcCacheBuster",x()),e.next=14,D();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),e.t0.message&&F(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(P.stringifyUrl)({url:tiTpc.endpoint+t+"/import",query:T({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiTpc.params)}),e.prev=1,e.next=4,N({url:r,method:"GET",parse:!1});case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:if(!(o=e.sent).message){e.next=11;break}return e.abrupt("return",F(o.message));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),e.t0.message&&F(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(P.stringifyUrl)({url:tiTpc.endpoint+t+"/clone",query:T({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiTpc.params)}),e.prev=1,e.next=4,N({url:r,method:"POST",parse:!1});case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:if(!(o=e.sent).message){e.next=11;break}return e.abrupt("return",F(o.message));case 11:return window.localStorage.setItem("tpcCacheBuster",x()),e.next=14,D();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),e.t0.message&&F(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=A(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(P.stringifyUrl)({url:tiTpc.endpoint+t,query:T({cache:window.localStorage.getItem("tpcCacheBuster"),_method:"DELETE"},window.tiTpc.params)}),e.prev=1,e.next=4,N({url:r,method:"POST"});case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:if(!(o=e.sent).message){e.next=11;break}return e.abrupt("return",F(o.message));case 11:return window.localStorage.setItem("tpcCacheBuster",x()),e.next=14,D();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),e.t0.message&&F(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();function z(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}var G=wp.i18n.__,q=wp.components,$=q.Button,W=q.ButtonGroup,Z=q.Icon,Y=wp.data,J=Y.useDispatch,K=Y.useSelect,Q={templates:G("Page Templates"),patterns:G("Patterns"),library:G("My Library")},X=function(e){var t=e.closeModal,r=J("tpc/block-editor"),n=r.setFetching,o=r.updateCurrentTab,a=K((function(e){return e("tpc/block-editor").isFetching()})),i=K((function(e){return e("tpc/block-editor").isPreview()})),l=K((function(e){return e("tpc/block-editor").getCurrentTab()})),u=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.setItem("tpcCacheBuster",x()),n(!0),e.next=4,D();case 4:n(!1);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){z(a,n,o,c,i,"next",e)}function i(e){z(a,n,o,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-header"},wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-header__left"},wp.element.createElement(Z,{icon:c})),wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-header__center"},Object.keys(Q).map((function(e){return wp.element.createElement($,{onClick:function(){return o(e)},className:p()("wp-block-themeisle-blocks-templates-cloud__modal-header__tabs",{"is-active":e===l})},Q[e])}))),wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-header__right"},"library"===l&&!i&&wp.element.createElement(W,null,wp.element.createElement($,{label:G("Re-sync Library"),icon:w,disabled:a,className:p()("is-sync",{"is-loading":a}),onClick:u})),wp.element.createElement($,{label:G("Close Modal"),icon:y,onClick:t})))};function ee(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function te(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){ee(a,n,o,c,i,"next",e)}function i(e){ee(a,n,o,c,i,"throw",e)}c(void 0)}))}}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var oe=wp.i18n.__,ae=wp.blocks.parse,ce=wp.blockEditor.BlockPreview,ie=wp.components,le=ie.Button,ue=ie.Placeholder,se=ie.Spinner,pe=wp.compose.useViewportMatch,me=wp.data,fe=me.useDispatch,de=me.useSelect,be=wp.element,we=be.useEffect,ye=be.useState,ve=function(e){var t=e.isFetching,r=e.importBlocks,n=pe("large",">="),o=pe("large","<="),a=pe("small",">="),c=pe("small","<="),i=1400;!n&&!o&&a&&!c?i=960:!(n||o||a||c)&&(i=600);var l=fe("tpc/block-editor"),u=l.setFetching,s=l.togglePreview,p=de((function(e){return e("tpc/block-editor").getPreview()})).item;we((function(){b()}),[]);var m=re(ye(""),2),f=m[0],d=m[1],b=function(){var e=te(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,w();case 3:u(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=te(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,U(p.template_id);case 3:(t=e.sent).__file&&t.content&&"wp_export"===t.__file&&d(t.content),u(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content"},wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__preview-header"},wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__preview-header__left"},p.template_name||oe("Template")),wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__preview-header__right"},wp.element.createElement(le,{isSecondary:!0,isLarge:!0,onClick:s},oe("Close Preview")),wp.element.createElement(le,{isPrimary:!0,isLarge:!0,isBusy:t,disabled:t,onClick:function(){s(),r(f)}},oe("Import")))),t?wp.element.createElement(ue,null,wp.element.createElement(se,null)):wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__preview-content"},wp.element.createElement(ce,{blocks:ae(f),viewportWidth:i})))},ge=Object(i.createElement)(b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(i.createElement)(d,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"})),he=Object(i.createElement)(b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(i.createElement)(d,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),ke=Object(i.createElement)(b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(i.createElement)(d,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),_e=Object(i.createElement)(b,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(i.createElement)(d,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})),Ee=Object(i.createElement)(b,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(i.createElement)(d,{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"}));function Oe(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function je(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){Oe(a,n,o,c,i,"next",e)}function i(e){Oe(a,n,o,c,i,"throw",e)}c(void 0)}))}}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Se=wp.i18n.__,Te=wp.components,Ce=Te.Button,Re=Te.Icon,Ae=Te.TextControl,Ne=wp.data.useDispatch,Ie=wp.element.useState,Be=function(e){var t=e.item,r=e.importBlocks,n=Ne("tpc/block-editor"),o=n.togglePreview,a=n.setPreviewData,c=xe(Ie(!1),2),i=c[0],l=c[1],u=xe(Ie(!1),2),s=u[0],m=u[1],f=xe(Ie(t.template_name),2),d=f[0],b=f[1],y=function(){var e=je(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("importing"),e.next=3,U(t.template_id);case 3:(n=e.sent).__file&&n.content&&"wp_export"===n.__file&&r(n.content),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=je(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("updating"),e.next=3,M({template_id:t.template_id,template_name:d||t.template_name});case 3:l(!1),m(!s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=je(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("duplicating"),e.next=3,V(t.template_id);case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=je(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(Se("Are you sure you want to delete this template?"))){e.next=2;break}return e.abrupt("return",!1);case 2:return l("deleting"),e.next=5,H(t.template_id);case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=je(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),a({type:"library",item:t});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return wp.element.createElement("div",{key:t.template_id,className:"wp-block-themeisle-blocks-templates-cloud__modal-content__table_row"},wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__table_row__title"},wp.element.createElement(Re,{icon:ge}),s?wp.element.createElement(Ae,{label:Se("Template Name"),hideLabelFromVision:!0,value:d,onChange:b}):t.template_name),wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__table_row__controls"},wp.element.createElement(Ce,{label:Se(s?"Update":"Edit"),icon:s?"updating"===i?w:he:ke,disabled:!1!==i,className:p()({"is-loading":"updating"===i}),onClick:s?v:function(){return m(!s)}}),wp.element.createElement(Ce,{label:Se("Duplicate"),icon:"duplicating"===i?w:_e,disabled:!1!==i,className:p()({"is-loading":"duplicating"===i}),onClick:g}),wp.element.createElement(Ce,{label:Se("Delete"),icon:"deleting"===i?w:Ee,disabled:!1!==i,className:p()({"is-loading":"deleting"===i}),onClick:h})),wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__table_row__actions"},wp.element.createElement(Ce,{isSecondary:!0,isLarge:!0,disabled:!1!==i,onClick:k},Se("Preview")),wp.element.createElement(Ce,{isPrimary:!0,isLarge:!0,isBusy:"importing"===i,disabled:!1!==i,onClick:y},Se("Import"))))};function Le(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}var Fe=wp.i18n.__,De=wp.components,Me=De.Button,Ue=De.ButtonGroup,Ve=De.Placeholder,He=De.Spinner,ze=wp.data,Ge=ze.useDispatch,qe=ze.useSelect,$e=function(e){var t=e.isFetching,r=e.importBlocks,n=Ge("tpc/block-editor").setFetching,o=qe((function(e){return e("tpc/block-editor").getLibrary()})),a=o.items,c=o.currentPage,i=o.totalPages,l=[],u=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,D({per_page:10,page:t});case 3:n(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){Le(a,n,o,c,i,"next",e)}function i(e){Le(a,n,o,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}();return t?wp.element.createElement(Ve,null,wp.element.createElement(He,null)):Boolean(a.length)?wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__table"},a.map((function(e){return wp.element.createElement(Be,{item:e,importBlocks:r})})),1<i&&wp.element.createElement(Ue,{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__pagination"},wp.element.createElement((function(){for(var e=0;e<i;e++){var t=e===c;l.push(wp.element.createElement(Me,{isPrimary:t,disabled:t,onClick:u},e+1))}return l}),null))):wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__table"},Fe("No templates available. Add a new one?"))},We=wp.components.Notice,Ze=wp.data,Ye=Ze.useDispatch,Je=Ze.useSelect,Ke=function(){var e=Je((function(e){return e("core/notices").getNotices("themeisle-blocks/notices/templates-cloud")})),t=Ye("core/notices").removeNotice;return wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content__notices"},e.map((function(e){return wp.element.createElement(We,{status:e.status,isDismissible:e.isDismissible,onRemove:function(){return t(e.id,"themeisle-blocks/notices/templates-cloud")},actions:e.actions},e.content)})))};function Qe(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}var Xe=wp.i18n.__,et=wp.data,tt=et.useDispatch,rt=et.useSelect,nt=wp.element.useEffect,ot=function(e){var t=e.importBlocks,r=tt("tpc/block-editor").setFetching,n=rt((function(e){return e("tpc/block-editor").isFetching()})),o=rt((function(e){return e("tpc/block-editor").isPreview()})),a=rt((function(e){return e("tpc/block-editor").getCurrentTab()}));nt((function(){c()}),[]);var c=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,D();case 3:r(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){Qe(a,n,o,c,i,"next",e)}function i(e){Qe(a,n,o,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return o?wp.element.createElement(ve,{isFetching:n,importBlocks:t}):wp.element.createElement("div",{className:"wp-block-themeisle-blocks-templates-cloud__modal-content"},wp.element.createElement(Ke,null),"library"===a?wp.element.createElement($e,{isFetching:n,importBlocks:t}):Xe("We're still working on this. Please check back later. Thank you!"))},at=wp.blocks.parse,ct=wp.components.Modal,it=wp.data.useDispatch,lt=function(e){var t=e.clientId,r=it("core/block-editor"),n=r.removeBlock,o=r.replaceBlocks,a=function(){return n(t)};return wp.element.createElement(ct,{onRequestClose:a,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,isDismissible:!1,overlayClassName:"wp-block-themeisle-blocks-templates-cloud__modal"},wp.element.createElement(X,{closeModal:a}),wp.element.createElement(ot,{importBlocks:function(e){return o(t,at(e))}}))},ut=wp.i18n.__;(0,wp.blocks.registerBlockType)("themeisle-blocks/templates-cloud",{title:ut("Templates Cloud"),description:ut("A cloud based templates library which enables you to create ready-made website in no time."),icon:function(){return wp.element.createElement(a,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(o,{d:"M22.8063 24H1.19365C0.534714 24 0 23.4653 0 22.8063V1.19365C0 0.534714 0.534714 0 1.19365 0H22.8063C23.4653 0 24 0.534714 24 1.19365V22.8063C24 23.4653 23.4653 24 22.8063 24Z",fill:"#14171C"}),wp.element.createElement(o,{d:"M19.8466 20.8187V7.39687V4.43164H16.884H3.45947L6.422 7.39687H16.884V17.8562L19.8466 20.8187Z",fill:"white"}),wp.element.createElement(o,{d:"M10.138 14.1429L10.1407 17.0838L12.7764 19.7195L12.7656 11.5152L4.55859 11.5044L7.19435 14.1375L10.138 14.1429Z",fill:"white"}))},category:"design",keywords:["templates cloud","patterns","template library"],supports:{html:!1},edit:lt,save:function(){return null}})},function(e,t){e.exports=React}]);