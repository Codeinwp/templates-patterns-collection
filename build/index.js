!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(e,t,r){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var l=r(8),u=r(9),s=r(10);function p(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function m(e,t){return t.encode?t.strict?l(e):encodeURIComponent(e):e}function f(e,t){return t.decode?u(e):e}function d(e){var t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function y(e){var t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function b(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function w(e,t){p((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);var r=function(e){var t;switch(e.arrayFormat){case"index":return function(e,r,n){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return function(e,r,n){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return function(t,r,n){var o="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((function(t){return f(t,e)})):null===r?r:f(r,e);n[t]=o};default:return function(e,t,r){void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),a=Object.create(null);if("string"!=typeof e)return a;if(!(e=e.trim().replace(/^[?#&]/,"")))return a;var i,l=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=c(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){l=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(l)throw a}}}}(e.split("&"));try{for(l.s();!(i=l.n()).done;){var u=i.value,m=n(s(t.decode?u.replace(/\+/g," "):u,"="),2),d=m[0],y=m[1];y=void 0===y?null:["comma","separator"].includes(t.arrayFormat)?y:f(y,t),r(f(d,t),y,a)}}catch(e){l.e(e)}finally{l.f()}for(var w=0,v=Object.keys(a);w<v.length;w++){var g=v[w],h=a[g];if("object"===o(h)&&null!==h)for(var _=0,k=Object.keys(h);_<k.length;_++){var E=k[_];h[E]=b(h[E],t)}else a[g]=b(h,t)}return!1===t.sort?a:(!0===t.sort?Object.keys(a).sort():Object.keys(a).sort(t.sort)).reduce((function(e,t){var r=a[t];return Boolean(r)&&"object"===o(r)&&!Array.isArray(r)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"===o(t)?e(Object.keys(t)).sort((function(e,t){return Number(e)-Number(t)})).map((function(e){return t[e]})):t}(r):e[t]=r,e}),Object.create(null))}t.extract=y,t.parse=w,t.stringify=function(e,t){if(!e)return"";p((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);for(var r=function(r){return t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r]},n=function(e){switch(e.arrayFormat){case"index":return function(t){return function(r,n){var o=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[[m(t,e),"[",o,"]"].join("")]:[[m(t,e),"[",m(o,e),"]=",m(n,e)].join("")])}};case"bracket":return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[[m(t,e),"[]"].join("")]:[[m(t,e),"[]=",m(n,e)].join("")])}};case"comma":case"separator":return function(t){return function(r,n){return null==n||0===n.length?r:0===r.length?[[m(t,e),"=",m(n,e)].join("")]:[[r,m(n,e)].join(e.arrayFormatSeparator)]}};default:return function(t){return function(r,n){return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:[].concat(a(r),null===n?[m(t,e)]:[[m(t,e),"=",m(n,e)].join("")])}}}}(t),o={},c=0,i=Object.keys(e);c<i.length;c++){var l=i[c];r(l)||(o[l]=e[l])}var u=Object.keys(o);return!1!==t.sort&&u.sort(t.sort),u.map((function(r){var o=e[r];return void 0===o?"":null===o?m(r,t):Array.isArray(o)?o.reduce(n(r),[]).join("&"):m(r,t)+"="+m(o,t)})).filter((function(e){return e.length>0})).join("&")},t.parseUrl=function(e,t){t=Object.assign({decode:!0},t);var r=n(s(e,"#"),2),o=r[0],a=r[1];return Object.assign({url:o.split("?")[0]||"",query:w(y(e),t)},t&&t.parseFragmentIdentifier&&a?{fragmentIdentifier:f(a,t)}:{})},t.stringifyUrl=function(e,r){r=Object.assign({encode:!0,strict:!0},r);var n=d(e.url).split("?")[0]||"",o=t.extract(e.url),a=t.parse(o,{sort:!1}),c=Object.assign(a,e.query),i=t.stringify(c,r);i&&(i="?".concat(i));var l=function(e){var t="",r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(l="#".concat(m(e.fragmentIdentifier,r))),"".concat(n).concat(i).concat(l)}},function(e,t,r){var n;function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=o(r);if("string"===n||"number"===n)e.push(r);else if(Array.isArray(r)&&r.length){var i=c.apply(null,r);i&&e.push(i)}else if("object"===n)for(var l in r)a.call(r,l)&&r[l]&&e.push(l)}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):"object"===o(r(5))&&r(5)?void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n):window.classNames=c}()},,,,function(e,t){(function(t){e.exports=t}).call(this,{})},,function(e,t){function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=wp.data.registerStore,c={isFetching:!0,isPreview:!1,tab:"library",templates:[],patterns:[],library:{items:[],currentPage:0,totalPages:0},preview:{type:"templates",item:{}}};a("tpc/block-editor",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return"SET_FETCHING"===t.type?n(n({},e),{},{isFetching:t.isFetching}):"TOGGLE_PREVIEW"===t.type?n(n({},e),{},{isPreview:!e.isPreview}):"UPDATE_CURRENT_TAB"===t.type?e.isPreview?e:n(n({},e),{},{tab:t.tab}):"UPDATE_TEMPLATES"===t.type?n(n({},e),{},{templates:t.items}):"UPDATE_PATTERNS"===t.type?n(n({},e),{},{patterns:t.items}):"UPDATE_LIBRARY"===t.type?n(n({},e),{},{library:{items:t.items,currentPage:Number(t.currentPage),totalPages:Number(t.totalPages)}}):"SET_PREVIEW_DATA"===t.type?n(n({},e),{},{preview:t.preview}):e},selectors:{isFetching:function(e){return e.isFetching},isPreview:function(e){return e.isPreview},getCurrentTab:function(e){return e.tab},getTemplates:function(e){return e.templates},getPatterns:function(e){return e.patterns},getLibrary:function(e){return e.library},getPreview:function(e){return e.preview}},actions:{setFetching:function(e){return{type:"SET_FETCHING",isFetching:e}},togglePreview:function(e){return{type:"TOGGLE_PREVIEW",isPreview:e}},updateCurrentTab:function(e){return{type:"UPDATE_CURRENT_TAB",tab:e}},updateTemplates:function(e){return{type:"UPDATE_TEMPLATES",items:e}},updatePatterns:function(e){return{type:"UPDATE_PATTERNS",items:e}},updateLibrary:function(e,t,r){return{type:"UPDATE_LIBRARY",items:e,currentPage:t,totalPages:r}},setPreviewData:function(e){return{type:"SET_PREVIEW_DATA",preview:e}}}})},function(e,t,r){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}},function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function c(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],c(r),c(n))}function i(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(o),r=1;r<t.length;r++)t=(e=c(t,r).join("")).match(o);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+n(e)+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=a.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=i(r[0]);n!==r[0]&&(t[r[0]]=n)}r=a.exec(e)}t["%C2"]="�";for(var o=Object.keys(t),c=0;c<o.length;c++){var l=o[c];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,r){"use strict";e.exports=function(e,t){if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];var r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){"use strict";r.r(t);r(7);var n=wp.primitives,o=n.Path,a=n.SVG,c=function(){return wp.element.createElement(a,{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wp.element.createElement(o,{d:"M22.8063 24H1.19365C0.534714 24 0 23.4653 0 22.8063V1.19365C0 0.534714 0.534714 0 1.19365 0H22.8063C23.4653 0 24 0.534714 24 1.19365V22.8063C24 23.4653 23.4653 24 22.8063 24Z",fill:"#14171C"}),wp.element.createElement(o,{d:"M19.8466 20.8187V7.39687V4.43164H16.884H3.45947L6.422 7.39687H16.884V17.8562L19.8466 20.8187Z",fill:"white"}),wp.element.createElement(o,{d:"M10.138 14.1429L10.1407 17.0838L12.7764 19.7195L12.7656 11.5152L4.55859 11.5044L7.19435 14.1375L10.138 14.1429Z",fill:"white"}))},i=function(){return wp.element.createElement(a,{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"wp-block-ti-tpc-templates-cloud__icon"},wp.element.createElement(o,{d:"M95.0264 100H4.97356C2.22797 100 0 97.772 0 95.0264V4.97356C0 2.22797 2.22797 0 4.97356 0H95.0264C97.772 0 100 2.22797 100 4.97356V95.0264C100 97.772 97.772 100 95.0264 100Z",fill:"#0366D6"}),wp.element.createElement(o,{d:"M82.6941 86.7448V30.8205V18.4653H70.3502H14.4146L26.7584 30.8205H70.3502V74.401L82.6941 86.7448Z",fill:"white"}),wp.element.createElement(o,{d:"M42.2416 58.9291L42.2528 71.183L53.2352 82.1653L53.1902 47.9806L18.9941 47.9355L29.9765 58.9066L42.2416 58.9291Z",fill:"white"}))},l=r(0),u="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),s=new Uint8Array(16);function p(){if(!u)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return u(s)}var m=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var f=function(e){return"string"==typeof e&&m.test(e)},d=[],y=0;y<256;++y)d.push((y+256).toString(16).substr(1));var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(d[e[t+0]]+d[e[t+1]]+d[e[t+2]]+d[e[t+3]]+"-"+d[e[t+4]]+d[e[t+5]]+"-"+d[e[t+6]]+d[e[t+7]]+"-"+d[e[t+8]]+d[e[t+9]]+"-"+d[e[t+10]]+d[e[t+11]]+d[e[t+12]]+d[e[t+13]]+d[e[t+14]]+d[e[t+15]]).toLowerCase();if(!f(r))throw TypeError("Stringified UUID is invalid");return r};var w=function(e,t,r){var n=(e=e||{}).random||(e.rng||p)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var o=0;o<16;++o)t[r+o]=n[o];return t}return b(n)};function v(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function g(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){v(a,n,o,c,i,"next",e)}function i(e){v(a,n,o,c,i,"throw",e)}c(void 0)}))}}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var j=wp.i18n.__,P=wp.apiFetch,x=wp.blocks.serialize,S=wp.components,T=S.Button,C=S.Icon,R=S.Modal,A=S.PanelBody,N=S.TextControl,B=S.ToggleControl,I=wp.data,D=I.useDispatch,L=I.useSelect,F=wp.editPost,M=F.PluginBlockSettingsMenuItem,U=F.PluginSidebar,V=F.PluginSidebarMoreMenuItem,H=wp.element,z=H.Fragment,q=H.useState,G=H.useEffect,$=function(){var e=E(q(!1),2),t=e[0],r=e[1],n=E(q(!1),2),o=n[0],a=n[1],i=E(q(""),2),u=i[0],s=i[1],p=D("core/notices"),m=p.createErrorNotice,f=p.createSuccessNotice,d=D("core/editor").editPost,y=L((function(e){var t=e("core/block-editor"),r=t.getSelectedBlockCount,n=t.getSelectedBlock,o=t.getMultiSelectedBlocks,a=1===r()?n():o();return x(a)}),[]),b=L((function(e){var t=(0,e("core/block-editor").getBlocks)();return x(t)}),[]),v=L((function(e){return{meta:e("core/editor").getEditedPostAttribute("meta")||{},postTitle:e("core/editor").getEditedPostAttribute("title")||j("Template")}})),h=v.meta,k=v.postTitle,O=v.meta,S=O._template_sync,I=O._template_id,F=L((function(e,t){var r=t.forceIsSaving,n=e("core/editor"),o=n.isSavingPost,a=n.isPublishingPost,c=n.isAutosavingPost,i=r||o(),l=c();return(a()||i)&&!l})),H=E(q(S),2),$=H[0],W=H[1],Z=E(q(I),2),Y=Z[0],J=Z[1];G((function(){d({meta:_(_({},h),{},{_template_sync:$,_template_id:Y})})}),[$,Y]),G((function(){F&&$&&Q()}),[F,$]);var K=function(){var e=g(regeneratorRuntime.mark((function e(){var t,n,o,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t={__file:"wp_export",version:2,content:y},n=Object(l.stringifyUrl)({url:tiTpc.endpoint,query:_(_({},window.tiTpc.params),{},{template_name:u,template_type:"gutenberg"})}),e.prev=3,e.next=6,P({url:n,method:"POST",data:t,parse:!1});case 6:if(!(o=e.sent).ok){e.next=12;break}return e.next=10,o.json();case 10:(c=e.sent).message?m(c.message,{type:"snackbar"}):(window.localStorage.setItem("tpcCacheBuster",w()),f(j("Template saved."),{type:"snackbar"}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),e.t0.message&&m(e.t0.message,{type:"snackbar"});case 17:a(!1),r(!1),s("");case 20:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=g(regeneratorRuntime.mark((function e(){var t,r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),t={__file:"wp_export",version:2,content:b},r=Y?Object(l.stringifyUrl)({url:tiTpc.endpoint+Y,query:_(_({},window.tiTpc.params),{},{template_name:k})}):Object(l.stringifyUrl)({url:tiTpc.endpoint,query:_(_({},window.tiTpc.params),{},{template_name:k,template_type:"gutenberg"})}),e.prev=3,e.next=6,P({url:r,method:"POST",data:t,parse:!1});case 6:if(!(n=e.sent).ok){e.next=12;break}return e.next=10,n.json();case 10:(o=e.sent).message?m(o.message,{type:"snackbar"}):(o.template_id&&J(o.template_id),window.localStorage.setItem("tpcCacheBuster",w()),f(j("Template saved."),{type:"snackbar"}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),e.t0.message&&m(e.t0.message,{type:"snackbar"});case 17:a(!1);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}();return wp.element.createElement(z,null,wp.element.createElement(M,{label:j("Save as Template"),icon:"none",onClick:function(){return r(!0)}}),wp.element.createElement(V,{icon:wp.element.createElement(C,{icon:c}),target:"ti-tpc"},j("Templates Cloud")),wp.element.createElement(U,{name:"ti-tpc",title:j("Templates Cloud"),className:"ti-tpc-components-panel"},wp.element.createElement(A,null,j("Save this page as a template in your Templates Cloud library."),wp.element.createElement(T,{isPrimary:!0,isLarge:!0,isBusy:o,disabled:o,onClick:Q},j("Save Page as Template")),wp.element.createElement(B,{label:j("Automatically sync to the cloud"),checked:$,onChange:function(){return W(!$)}}))),t&&wp.element.createElement(R,{title:j("Save Template"),onRequestClose:function(){return r(!1)}},wp.element.createElement(N,{label:j("Template Name"),value:u,onChange:s}),wp.element.createElement(T,{isPrimary:!0,isBusy:o,disabled:o,onClick:K},j("Save"))))},W=r(12);function Z(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}var J=r(1),K=r.n(J);function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){Z(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee=function(e){return Object(W.createElement)("path",e)},te=function(e){var t=e.className,r=e.isPressed,n=X(X({},Y(e,["className","isPressed"])),{},{className:K()(t,{"is-pressed":r})||void 0,role:"img","aria-hidden":!0,focusable:!1});return Object(W.createElement)("svg",n)},re=Object(W.createElement)(te,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(W.createElement)(ee,{d:"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z"})),ne=Object(W.createElement)(te,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(W.createElement)(ee,{d:"M13 11.9l3.3-3.4-1.1-1-3.2 3.3-3.2-3.3-1.1 1 3.3 3.4-3.5 3.6 1 1L12 13l3.5 3.5 1-1z"}));function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ce(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ce(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ie(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function le(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){ie(a,n,o,c,i,"next",e)}function i(e){ie(a,n,o,c,i,"throw",e)}c(void 0)}))}}var ue=wp.apiFetch,se=wp.data.dispatch,pe=se("tpc/block-editor").updateLibrary,me=se("core/notices").createNotice,fe=function(e){me("warning",e,{context:"themeisle-blocks/notices/templates-cloud",isDismissible:!0})},de=function(){var e=le(regeneratorRuntime.mark((function e(){var t,r,n,o,a,c,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{per_page:10,page:0},r=Object(l.stringifyUrl)({url:tiTpc.endpoint,query:ae(ae({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiTpc.params),t)}),e.prev=2,e.next=5,ue({url:r,method:"GET",parse:!1});case 5:if(!(n=e.sent).ok){e.next=15;break}return e.next=9,n.json();case 9:if(!(o=e.sent).message){e.next=12;break}return e.abrupt("return",fe(o.message));case 12:a=n.headers.get("x-wp-totalpages"),c=t.page,pe(o,c,a);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),e.t0.message&&fe(e.t0.message);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}(),ye=function(){var e=le(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.stringifyUrl)({url:tiTpc.endpoint+t.template_id,query:ae(ae({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiTpc.params),t)}),e.prev=1,e.next=4,ue({url:r,method:"POST",data:t,parse:!1});case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:if(!(o=e.sent).message){e.next=11;break}return e.abrupt("return",fe(o.message));case 11:return window.localStorage.setItem("tpcCacheBuster",w()),e.next=14,de();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),e.t0.message&&fe(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=le(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.stringifyUrl)({url:tiTpc.endpoint+t+"/import",query:ae({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiTpc.params)}),n={},e.prev=2,e.next=5,ue({url:r,method:"GET",parse:!1});case 5:if(!(o=e.sent).ok){e.next=12;break}return e.next=9,o.json();case 9:if(!(n=e.sent).message){e.next=12;break}return e.abrupt("return",fe(n.message));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),e.t0.message&&fe(e.t0.message);case 17:return e.abrupt("return",n);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=le(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.stringifyUrl)({url:tiTpc.endpoint+t+"/clone",query:ae({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiTpc.params)}),e.prev=1,e.next=4,ue({url:r,method:"POST",parse:!1});case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:if(!(o=e.sent).message){e.next=11;break}return e.abrupt("return",fe(o.message));case 11:return window.localStorage.setItem("tpcCacheBuster",w()),e.next=14,de();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),e.t0.message&&fe(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=le(regeneratorRuntime.mark((function e(t){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(l.stringifyUrl)({url:tiTpc.endpoint+t,query:ae({cache:window.localStorage.getItem("tpcCacheBuster"),_method:"DELETE"},window.tiTpc.params)}),e.prev=1,e.next=4,ue({url:r,method:"POST"});case 4:if(!(n=e.sent).ok){e.next=11;break}return e.next=8,n.json();case 8:if(!(o=e.sent).message){e.next=11;break}return e.abrupt("return",fe(o.message));case 11:return window.localStorage.setItem("tpcCacheBuster",w()),e.next=14,de();case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),e.t0.message&&fe(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();function ge(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}var he=wp.i18n.__,_e=wp.components,ke=_e.Button,Ee=_e.ButtonGroup,Oe=_e.Icon,je=wp.data,Pe=je.useDispatch,xe=je.useSelect,Se={templates:he("Page Templates"),patterns:he("Patterns"),library:he("My Library")},Te=function(e){var t=e.closeModal,r=Pe("tpc/block-editor"),n=r.setFetching,o=r.updateCurrentTab,a=xe((function(e){return e("tpc/block-editor").isFetching()})),c=xe((function(e){return e("tpc/block-editor").isPreview()})),l=xe((function(e){return e("tpc/block-editor").getCurrentTab()})),u=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.setItem("tpcCacheBuster",w()),n(!0),e.next=4,de();case 4:n(!1);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){ge(a,n,o,c,i,"next",e)}function i(e){ge(a,n,o,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-header"},wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-header__left"},wp.element.createElement(Oe,{icon:i})),wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-header__center"},Object.keys(Se).map((function(e){return wp.element.createElement(ke,{onClick:function(){return o(e)},className:K()("wp-block-ti-tpc-templates-cloud__modal-header__tabs",{"is-active":e===l})},Se[e])}))),wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-header__right"},"library"===l&&!c&&wp.element.createElement(Ee,null,wp.element.createElement(ke,{label:he("Re-sync Library"),icon:re,disabled:a,className:K()("is-sync",{"is-loading":a}),onClick:u})),wp.element.createElement(ke,{label:he("Close Modal"),icon:ne,onClick:t})))};function Ce(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function Re(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){Ce(a,n,o,c,i,"next",e)}function i(e){Ce(a,n,o,c,i,"throw",e)}c(void 0)}))}}function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Be=wp.i18n.__,Ie=wp.blocks.parse,De=wp.blockEditor.BlockPreview,Le=wp.components,Fe=Le.Button,Me=Le.Placeholder,Ue=Le.Spinner,Ve=wp.compose.useViewportMatch,He=wp.data,ze=He.useDispatch,qe=He.useSelect,Ge=wp.element,$e=Ge.useEffect,We=Ge.useState,Ze=function(e){var t=e.isFetching,r=e.importBlocks,n=Ve("large",">="),o=Ve("large","<="),a=Ve("small",">="),c=Ve("small","<="),i=1400;!n&&!o&&a&&!c?i=960:!(n||o||a||c)&&(i=600);var l=ze("tpc/block-editor"),u=l.setFetching,s=l.togglePreview,p=qe((function(e){return e("tpc/block-editor").getPreview()})).item;$e((function(){y()}),[]);var m=Ae(We(""),2),f=m[0],d=m[1],y=function(){var e=Re(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,b();case 3:u(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Re(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,be(p.template_id);case 3:(t=e.sent).__file&&t.content&&"wp_export"===t.__file&&d(t.content),u(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content"},wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__preview-header"},wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__preview-header__left"},p.template_name||Be("Template")),wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__preview-header__right"},wp.element.createElement(Fe,{isSecondary:!0,isLarge:!0,onClick:s},Be("Close Preview")),wp.element.createElement(Fe,{isPrimary:!0,isLarge:!0,isBusy:t,disabled:t,onClick:function(){s(),r(f)}},Be("Import")))),t?wp.element.createElement(Me,null,wp.element.createElement(Ue,null)):wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__preview-content"},wp.element.createElement(De,{blocks:Ie(f),viewportWidth:i})))},Ye=Object(W.createElement)(te,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(W.createElement)(ee,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"})),Je=Object(W.createElement)(te,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(W.createElement)(ee,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),Ke=Object(W.createElement)(te,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(W.createElement)(ee,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),Qe=Object(W.createElement)(te,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(W.createElement)(ee,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})),Xe=Object(W.createElement)(te,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(W.createElement)(ee,{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"}));function et(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}function tt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){et(a,n,o,c,i,"next",e)}function i(e){et(a,n,o,c,i,"throw",e)}c(void 0)}))}}function rt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(n=(c=i.next()).done)&&(r.push(c.value),!t||r.length!==t);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(o)throw a}}return r}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return nt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ot=wp.i18n.__,at=wp.components,ct=at.Button,it=at.Icon,lt=at.TextControl,ut=wp.data.useDispatch,st=wp.element.useState,pt=function(e){var t=e.item,r=e.importBlocks,n=ut("tpc/block-editor"),o=n.togglePreview,a=n.setPreviewData,c=rt(st(!1),2),i=c[0],l=c[1],u=rt(st(!1),2),s=u[0],p=u[1],m=rt(st(t.template_name),2),f=m[0],d=m[1],y=function(){var e=tt(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("importing"),e.next=3,be(t.template_id);case 3:(n=e.sent).__file&&n.content&&"wp_export"===n.__file&&r(n.content),l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=tt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("updating"),e.next=3,ye({template_id:t.template_id,template_name:f||t.template_name});case 3:l(!1),p(!s);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=tt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l("duplicating"),e.next=3,we(t.template_id);case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=tt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm(ot("Are you sure you want to delete this template?"))){e.next=2;break}return e.abrupt("return",!1);case 2:return l("deleting"),e.next=5,ve(t.template_id);case 5:l(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=tt(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(),a({type:"library",item:t});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return wp.element.createElement("div",{key:t.template_id,className:"wp-block-ti-tpc-templates-cloud__modal-content__table_row"},wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__table_row__title"},wp.element.createElement(it,{icon:Ye}),s?wp.element.createElement(lt,{label:ot("Template Name"),hideLabelFromVision:!0,value:f,onChange:d}):t.template_name),wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__table_row__controls"},wp.element.createElement(ct,{label:ot(s?"Update":"Edit"),icon:s?"updating"===i?re:Je:Ke,disabled:!1!==i,className:K()({"is-loading":"updating"===i}),onClick:s?b:function(){return p(!s)}}),wp.element.createElement(ct,{label:ot("Duplicate"),icon:"duplicating"===i?re:Qe,disabled:!1!==i,className:K()({"is-loading":"duplicating"===i}),onClick:w}),wp.element.createElement(ct,{label:ot("Delete"),icon:"deleting"===i?re:Xe,disabled:!1!==i,className:K()({"is-loading":"deleting"===i}),onClick:v})),wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__table_row__actions"},wp.element.createElement(ct,{isSecondary:!0,isLarge:!0,disabled:!1!==i,onClick:g},ot("Preview")),wp.element.createElement(ct,{isPrimary:!0,isLarge:!0,isBusy:"importing"===i,disabled:!1!==i,onClick:y},ot("Import"))))};function mt(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}var ft=wp.i18n.__,dt=wp.components,yt=dt.Button,bt=dt.ButtonGroup,wt=dt.Placeholder,vt=dt.Spinner,gt=wp.data,ht=gt.useDispatch,_t=gt.useSelect,kt=function(e){var t=e.isFetching,r=e.importBlocks,n=ht("tpc/block-editor").setFetching,o=_t((function(e){return e("tpc/block-editor").getLibrary()})),a=o.items,c=o.currentPage,i=o.totalPages,l=[],u=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,de({per_page:10,page:t});case 3:n(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){mt(a,n,o,c,i,"next",e)}function i(e){mt(a,n,o,c,i,"throw",e)}c(void 0)}))});return function(e){return t.apply(this,arguments)}}();return t?wp.element.createElement(wt,null,wp.element.createElement(vt,null)):Boolean(a.length)?wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__table"},a.map((function(e){return wp.element.createElement(pt,{item:e,importBlocks:r})})),1<i&&wp.element.createElement(bt,{className:"wp-block-ti-tpc-templates-cloud__modal-content__pagination"},wp.element.createElement((function(){for(var e=0;e<i;e++){var t=e===c;l.push(wp.element.createElement(yt,{isPrimary:t,disabled:t,onClick:u},e+1))}return l}),null))):wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__table"},ft("No templates available. Add a new one?"))},Et=wp.components.Notice,Ot=wp.data,jt=Ot.useDispatch,Pt=Ot.useSelect,xt=function(){var e=Pt((function(e){return e("core/notices").getNotices("themeisle-blocks/notices/templates-cloud")})),t=jt("core/notices").removeNotice;return wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content__notices"},e.map((function(e){return wp.element.createElement(Et,{status:e.status,isDismissible:e.isDismissible,onRemove:function(){return t(e.id,"themeisle-blocks/notices/templates-cloud")},actions:e.actions},e.content)})))};function St(e,t,r,n,o,a,c){try{var i=e[a](c),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,o)}var Tt=wp.i18n.__,Ct=wp.data,Rt=Ct.useDispatch,At=Ct.useSelect,Nt=wp.element.useEffect,Bt=function(e){var t=e.importBlocks,r=Rt("tpc/block-editor").setFetching,n=At((function(e){return e("tpc/block-editor").isFetching()})),o=At((function(e){return e("tpc/block-editor").isPreview()})),a=At((function(e){return e("tpc/block-editor").getCurrentTab()}));Nt((function(){c()}),[]);var c=function(){var e,t=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,de();case 3:r(!1);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var a=e.apply(t,r);function c(e){St(a,n,o,c,i,"next",e)}function i(e){St(a,n,o,c,i,"throw",e)}c(void 0)}))});return function(){return t.apply(this,arguments)}}();return o?wp.element.createElement(Ze,{isFetching:n,importBlocks:t}):wp.element.createElement("div",{className:"wp-block-ti-tpc-templates-cloud__modal-content"},wp.element.createElement(xt,null),"library"===a?wp.element.createElement(kt,{isFetching:n,importBlocks:t}):Tt("We're still working on this. Please check back later. Thank you!"))},It=wp.blocks.parse,Dt=wp.components.Modal,Lt=wp.data.useDispatch,Ft=function(e){var t=e.clientId,r=Lt("core/block-editor"),n=r.removeBlock,o=r.replaceBlocks,a=function(){return n(t)};return wp.element.createElement(Dt,{onRequestClose:a,shouldCloseOnEsc:!1,shouldCloseOnClickOutside:!1,isDismissible:!1,overlayClassName:"wp-block-ti-tpc-templates-cloud__modal"},wp.element.createElement(Te,{closeModal:a}),wp.element.createElement(Bt,{importBlocks:function(e){return o(t,It(e))}}))},Mt=wp.i18n.__,Ut=wp.blocks.registerBlockType,Vt=wp.plugins.registerPlugin;Ut("ti-tpc/templates-cloud",{title:Mt("Templates Cloud"),description:Mt("A cloud based templates library which enables you to create ready-made website in no time."),icon:c,category:"design",keywords:["templates cloud","patterns","template library"],supports:{html:!1},edit:Ft,save:function(){return null}}),Vt("ti-tpc",{render:$,icon:c})},function(e,t){e.exports=React}]);