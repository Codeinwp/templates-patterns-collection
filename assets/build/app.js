(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{18:function(e,t,n){}}]),function(e){function t(t){for(var r,c,i=t[0],s=t[1],l=t[2],p=0,m=[];p<i.length;p++)c=i[p],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&m.push(o[c][0]),o[c]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);m.length;)m.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==o[s]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={0:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var i=window.webpackJsonp=window.webpackJsonp||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;a.push([30,1]),n()}([function(e,t){!function(){e.exports=this.wp.element}()},function(e,t){!function(){e.exports=this.wp.i18n}()},function(e,t){!function(){e.exports=this.wp.components}()},function(e,t,n){var r=n(22),o=n(23),a=n(15),c=n(24);e.exports=function(e,t){return r(e)||o(e,t)||a(e,t)||c()}},function(e,t){!function(){e.exports=this.wp.data}()},function(e,t){!function(){e.exports=this.wp.primitives}()},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"===a||"number"===a)e.push(r);else if(Array.isArray(r)&&r.length){var c=o.apply(null,r);c&&e.push(c)}else if("object"===a)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(r=function(){return o}.apply(t,[]))||(e.exports=r)}()},function(e,t){!function(){e.exports=this.wp.compose}()},function(e,t){!function(){e.exports=this.regeneratorRuntime}()},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(e,t,n,r,o,a,c){try{var i=e[a](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,o)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var c=e.apply(t,r);function i(e){n(c,o,a,i,s,"next",e)}function s(e){n(c,o,a,i,s,"throw",e)}i(void 0)}))}}},function(e,t,n){"use strict";const r=n(27),o=n(28),a=n(29);function c(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?o(e):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function p(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){c((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const o="string"==typeof n&&n.includes(e.arrayFormatSeparator),a="string"==typeof n&&!o&&s(n,e).includes(e.arrayFormatSeparator);n=a?s(n,e):n;const c=o||a?n.split(e.arrayFormatSeparator).map(t=>s(t,e)):null===n?n:s(n,e);r[t]=c};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const o of e.split("&")){let[e,c]=a(t.decode?o.replace(/\+/g," "):o,"=");c=void 0===c?null:["comma","separator"].includes(t.arrayFormat)?c:s(c,t),n(s(e,t),c,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=p(n[e],t);else r[e]=p(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=u,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";c((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const o=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[",o,"]"].join("")]:[...n,[i(t,e),"[",i(o,e),"]=",i(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[]"].join("")]:[...n,[i(t,e),"[]=",i(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[i(t,e),"=",i(r,e)].join("")]:[[n,i(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,i(t,e)]:[...n,[i(t,e),"=",i(r,e)].join("")]}}(t),o={};for(const t of Object.keys(e))n(t)||(o[t]=e[t]);const a=Object.keys(o);return!1!==t.sort&&a.sort(t.sort),a.map(n=>{const o=e[n];return void 0===o?"":null===o?i(n,t):Array.isArray(o)?o.reduce(r(n),[]).join("&"):i(n,t)+"="+i(o,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=a(e,"#");return Object.assign({url:n.split("?")[0]||"",query:m(u(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:s(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",o=t.extract(e.url),a=t.parse(o,{sort:!1}),c=Object.assign(a,e.query);let s=t.stringify(c,n);s&&(s="?"+s);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#"+i(e.fragmentIdentifier,n)),`${r}${s}${u}`}},function(e,t){!function(){e.exports=this.wp.apiFetch}()},function(e,t,n){var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(5)()},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(e,t,n){var r=e.direction,o=e.value;switch(r){case"top":return n.top+o<t.top&&n.bottom>t.bottom&&n.left<t.left&&n.right>t.right;case"left":return n.left+o<t.left&&n.bottom>t.bottom&&n.top<t.top&&n.right>t.right;case"bottom":return n.bottom-o>t.bottom&&n.left<t.left&&n.right>t.right&&n.top<t.top;case"right":return n.right-o>t.right&&n.left<t.left&&n.top<t.top&&n.bottom>t.bottom}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(1),o=n.n(r),a=n(2),c=n.n(a),i=n(0),s=n.n(i),l=n(3),u=n.n(l);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n,r,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,o=d(t).call(this,e),n=!o||"object"!==p(o)&&"function"!=typeof o?f(r):o,b(f(n),"getContainer",(function(){return n.props.containment||window})),b(f(n),"addEventListener",(function(e,t,r,o){var a;n.debounceCheck||(n.debounceCheck={});var c=function(){a=null,n.check()},i={target:e,fn:o>-1?function(){a||(a=setTimeout(c,o||0))}:function(){clearTimeout(a),a=setTimeout(c,r||0)},getLastTimeout:function(){return a}};e.addEventListener(t,i.fn),n.debounceCheck[t]=i})),b(f(n),"startWatching",(function(){n.debounceCheck||n.interval||(n.props.intervalCheck&&(n.interval=setInterval(n.check,n.props.intervalDelay)),n.props.scrollCheck&&n.addEventListener(n.getContainer(),"scroll",n.props.scrollDelay,n.props.scrollThrottle),n.props.resizeCheck&&n.addEventListener(window,"resize",n.props.resizeDelay,n.props.resizeThrottle),!n.props.delayedCall&&n.check())})),b(f(n),"stopWatching",(function(){if(n.debounceCheck)for(var e in n.debounceCheck)if(n.debounceCheck.hasOwnProperty(e)){var t=n.debounceCheck[e];clearTimeout(t.getLastTimeout()),t.target.removeEventListener(e,t.fn),n.debounceCheck[e]=null}n.debounceCheck=null,n.interval&&(n.interval=clearInterval(n.interval))})),b(f(n),"check",(function(){var e,t,r=n.node;if(!r)return n.state;if(e=function(e){return void 0===e.width&&(e.width=e.right-e.left),void 0===e.height&&(e.height=e.bottom-e.top),e}(n.roundRectDown(r.getBoundingClientRect())),n.props.containment){var o=n.props.containment.getBoundingClientRect();t={top:o.top,left:o.left,bottom:o.bottom,right:o.right}}else t={top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth};var a=n.props.offset||{};"object"===p(a)&&(t.top+=a.top||0,t.left+=a.left||0,t.bottom-=a.bottom||0,t.right-=a.right||0);var c={top:e.top>=t.top,left:e.left>=t.left,bottom:e.bottom<=t.bottom,right:e.right<=t.right},i=e.height>0&&e.width>0,s=i&&c.top&&c.left&&c.bottom&&c.right;if(i&&n.props.partialVisibility){var l=e.top<=t.bottom&&e.bottom>=t.top&&e.left<=t.right&&e.right>=t.left;"string"==typeof n.props.partialVisibility&&(l=c[n.props.partialVisibility]),s=n.props.minTopValue?l&&e.top<=t.bottom-n.props.minTopValue:l}"string"==typeof a.direction&&"number"==typeof a.value&&(console.warn("[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",a.direction,a.value),s=u()(a,e,t));var m=n.state;return n.state.isVisible!==s&&(m={isVisible:s,visibilityRect:c},n.setState(m),n.props.onChange&&n.props.onChange(s)),m})),n.state={isVisible:null,visibilityRect:{}},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.node=c.a.findDOMNode(this),this.props.active&&this.startWatching()}},{key:"componentWillUnmount",value:function(){this.stopWatching()}},{key:"componentDidUpdate",value:function(e){this.node=c.a.findDOMNode(this),this.props.active&&!e.active?(this.setState({isVisible:null,visibilityRect:{}}),this.startWatching()):this.props.active||this.stopWatching()}},{key:"roundRectDown",value:function(e){return{top:Math.floor(e.top),left:Math.floor(e.left),bottom:Math.floor(e.bottom),right:Math.floor(e.right)}}},{key:"render",value:function(){return this.props.children instanceof Function?this.props.children({isVisible:this.state.isVisible,visibilityRect:this.state.visibilityRect}):o.a.Children.only(this.props.children)}}])&&m(n.prototype,r),a&&m(n,a),t}(o.a.Component);b(g,"defaultProps",{active:!0,partialVisibility:!1,minTopValue:0,scrollCheck:!1,scrollDelay:250,scrollThrottle:-1,resizeCheck:!1,resizeDelay:250,resizeThrottle:-1,intervalCheck:!0,intervalDelay:100,delayedCall:!1,offset:{},containment:null,children:o.a.createElement("span",null)}),b(g,"propTypes",{onChange:s.a.func,active:s.a.bool,partialVisibility:s.a.oneOfType([s.a.bool,s.a.oneOf(["top","right","bottom","left"])]),delayedCall:s.a.bool,offset:s.a.oneOfType([s.a.shape({top:s.a.number,left:s.a.number,bottom:s.a.number,right:s.a.number}),s.a.shape({direction:s.a.oneOf(["top","right","bottom","left"]),value:s.a.number})]),scrollCheck:s.a.bool,scrollDelay:s.a.number,scrollThrottle:s.a.number,resizeCheck:s.a.bool,resizeDelay:s.a.number,resizeThrottle:s.a.number,intervalCheck:s.a.bool,intervalDelay:s.a.number,containment:"undefined"!=typeof window?s.a.instanceOf(window.Element):s.a.any,children:s.a.oneOfType([s.a.element,s.a.func]),minTopValue:s.a.number})},function(e,t,n){"use strict";var r=n(6);function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,c){if(c!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])},e.exports=r(n(25),n(26))},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t,n){var r=n(14);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t,n){var r=n(19),o=n(20),a=n(15),c=n(21);e.exports=function(e){return r(e)||o(e)||a(e)||c()}},function(e,t,n){var r;r=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return Array.isArray?Array.isArray(e):"[object Array]"===O(e)}function f(e){return"string"==typeof e}function h(e){return"number"==typeof e}function b(t){return"object"===e(t)}function g(e){return null!=e}function v(e){return!e.trim().length}function O(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var y=function(e){return"Invalid value for key ".concat(e)},j=function(e){return"Pattern length exceeds max of ".concat(e,".")},E=Object.prototype.hasOwnProperty,w=function(){function e(n){var r=this;t(this,e),this._keys=[],this._keyMap={};var o=0;n.forEach((function(e){var t=_(e);o+=t.weight,r._keys.push(t),r._keyMap[t.id]=t,o+=t.weight})),this._keys.forEach((function(e){e.weight/=o}))}return r(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function _(e){var t=null,n=null,r=null,o=1;if(f(e)||d(e))r=e,t=S(e),n=k(e);else{if(!E.call(e,"name"))throw new Error("Missing ".concat("name"," property in key"));var a=e.name;if(r=a,E.call(e,"weight")&&(o=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(a));t=S(a),n=k(a)}return{path:t,id:n,weight:o,src:r}}function S(e){return d(e)?e:e.split(".")}function k(e){return d(e)?e.join("."):e}var C=c({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,o,a){if(o[a]){var c=t[o[a]];if(!g(c))return;if(a===o.length-1&&(f(c)||h(c)||function(e){return!0===e||!1===e||function(e){return b(e)&&null!==e}(e)&&"[object Boolean]"==O(e)}(c)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(c));else if(d(c)){r=!0;for(var i=0,s=c.length;i<s;i+=1)e(c[i],o,a+1)}else o.length&&e(c,o,a+1)}else n.push(t)}(e,f(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),x=/[^ ]+/g;function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=new Map;return{get:function(n){var r=n.match(x).length;if(t.has(r))return t.get(r);var o=parseFloat((1/Math.sqrt(r)).toFixed(e));return t.set(r,o),o},clear:function(){t.clear()}}}var N=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.getFn,o=void 0===r?C.getFn:r;t(this,e),this.norm=M(3),this.getFn=o,this.isCreated=!1,this.setIndexRecords()}return r(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,f(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();f(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(g(e)&&!v(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,o){var a=n.getFn(e,t.path);if(g(a))if(d(a))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:a}];t.length;){var c=t.pop(),i=c.nestedArrIndex,s=c.value;if(g(s))if(f(s)&&!v(s)){var l={v:s,i:i,n:n.norm.get(s)};e.push(l)}else d(s)&&s.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[o]=e}();else if(!v(a)){var c={v:a,n:n.norm.get(a)};r.$[o]=c}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,o=void 0===r?C.getFn:r,a=new N({getFn:o});return a.setKeys(e.map(_)),a.setSources(t),a.create(),a}function D(e,t){var n=e.matches;t.matches=[],g(n)&&n.forEach((function(e){if(g(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function T(e,t){t.score=e.score}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,o=t.currentLocation,a=void 0===o?0:o,c=t.expectedLocation,i=void 0===c?0:c,s=t.distance,l=void 0===s?C.distance:s,u=t.ignoreLocation,p=void 0===u?C.ignoreLocation:u,m=r/e.length;if(p)return m;var d=Math.abs(i-a);return l?m+d/l:d?1:m}function L(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.minMatchCharLength,n=[],r=-1,o=-1,a=0,c=e.length;a<c;a+=1){var i=e[a];i&&-1===r?r=a:i||-1===r||((o=a-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}function A(e){for(var t={},n=0,r=e.length;n<r;n+=1){var o=e.charAt(n);t[o]=(t[o]||0)|1<<r-n-1}return t}var R=function(){function e(n){var r=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=o.location,c=void 0===a?C.location:a,i=o.threshold,s=void 0===i?C.threshold:i,l=o.distance,u=void 0===l?C.distance:l,p=o.includeMatches,m=void 0===p?C.includeMatches:p,d=o.findAllMatches,f=void 0===d?C.findAllMatches:d,h=o.minMatchCharLength,b=void 0===h?C.minMatchCharLength:h,g=o.isCaseSensitive,v=void 0===g?C.isCaseSensitive:g,O=o.ignoreLocation,y=void 0===O?C.ignoreLocation:O;if(t(this,e),this.options={location:c,threshold:s,distance:u,includeMatches:m,findAllMatches:f,minMatchCharLength:b,isCaseSensitive:v,ignoreLocation:y},this.pattern=v?n:n.toLowerCase(),this.chunks=[],this.pattern.length){var j=function(e,t){r.chunks.push({pattern:e,alphabet:A(e),startIndex:t})},E=this.pattern.length;if(E>32){for(var w=0,_=E%32,S=E-_;w<S;)j(this.pattern.substr(w,32),w),w+=32;if(_){var k=E-32;j(this.pattern.substr(k),k)}}else j(this.pattern,0)}}return r(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var o={isMatch:!0,score:0};return r&&(o.indices=[[0,e.length-1]]),o}var a=this.options,c=a.location,i=a.distance,s=a.threshold,l=a.findAllMatches,u=a.minMatchCharLength,m=a.ignoreLocation,d=[],f=0,h=!1;this.chunks.forEach((function(t){var n=t.pattern,o=t.alphabet,a=t.startIndex,b=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=r.location,a=void 0===o?C.location:o,c=r.distance,i=void 0===c?C.distance:c,s=r.threshold,l=void 0===s?C.threshold:s,u=r.findAllMatches,p=void 0===u?C.findAllMatches:u,m=r.minMatchCharLength,d=void 0===m?C.minMatchCharLength:m,f=r.includeMatches,h=void 0===f?C.includeMatches:f,b=r.ignoreLocation,g=void 0===b?C.ignoreLocation:b;if(t.length>32)throw new Error(j(32));for(var v,O=t.length,y=e.length,E=Math.max(0,Math.min(a,y)),w=l,_=E,S=d>1||h,k=S?Array(y):[];(v=e.indexOf(t,_))>-1;){var x=I(t,{currentLocation:v,expectedLocation:E,distance:i,ignoreLocation:g});if(w=Math.min(x,w),_=v+O,S)for(var M=0;M<O;)k[v+M]=1,M+=1}_=-1;for(var N=[],P=1,D=O+y,T=1<<O-1,A=0;A<O;A+=1){for(var R=0,F=D;R<F;){var B=I(t,{errors:A,currentLocation:E+F,expectedLocation:E,distance:i,ignoreLocation:g});B<=w?R=F:D=F,F=Math.floor((D-R)/2+R)}D=F;var z=Math.max(1,E-F+1),U=p?y:Math.min(E+F,y)+O,V=Array(U+2);V[U+1]=(1<<A)-1;for(var $=U;$>=z;$-=1){var H=$-1,W=n[e.charAt(H)];if(S&&(k[H]=+!!W),V[$]=(V[$+1]<<1|1)&W,A&&(V[$]|=(N[$+1]|N[$])<<1|1|N[$+1]),V[$]&T&&(P=I(t,{errors:A,currentLocation:H,expectedLocation:E,distance:i,ignoreLocation:g}))<=w){if(w=P,(_=H)<=E)break;z=Math.max(1,2*E-_)}}var q=I(t,{errors:A+1,currentLocation:E,expectedLocation:E,distance:i,ignoreLocation:g});if(q>w)break;N=V}var G={isMatch:_>=0,score:Math.max(.001,P)};if(S){var J=L(k,d);J.length?h&&(G.indices=J):G.isMatch=!1}return G}(e,n,o,{location:c+a,distance:i,threshold:s,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:m}),g=b.isMatch,v=b.score,O=b.indices;g&&(h=!0),f+=v,g&&O&&(d=[].concat(p(d),p(O)))}));var b={isMatch:h,score:h?f/this.chunks.length:1};return h&&r&&(b.indices=d),b}}]),e}(),F=function(){function e(n){t(this,e),this.pattern=n}return r(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return B(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return B(e,this.singleRegex)}}]),e}();function B(e,t){var n=e.match(t);return n?n[1]:null}var z=function(e){i(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return r(o,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),o}(F),U=function(e){i(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return r(o,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),o}(F),V=function(e){i(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return r(o,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),o}(F),$=function(e){i(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return r(o,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),o}(F),H=function(e){i(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return r(o,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),o}(F),W=function(e){i(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return r(o,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),o}(F),q=function(e){i(o,e);var n=u(o);function o(e){var r,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.location,i=void 0===c?C.location:c,s=a.threshold,l=void 0===s?C.threshold:s,u=a.distance,p=void 0===u?C.distance:u,m=a.includeMatches,d=void 0===m?C.includeMatches:m,f=a.findAllMatches,h=void 0===f?C.findAllMatches:f,b=a.minMatchCharLength,g=void 0===b?C.minMatchCharLength:b,v=a.isCaseSensitive,O=void 0===v?C.isCaseSensitive:v;return t(this,o),(r=n.call(this,e))._bitapSearch=new R(e,{location:i,threshold:l,distance:p,includeMatches:d,findAllMatches:h,minMatchCharLength:g,isCaseSensitive:O}),r}return r(o,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),o}(F),G=function(e){i(o,e);var n=u(o);function o(e){return t(this,o),n.call(this,e)}return r(o,[{key:"search",value:function(e){for(var t,n=0,r=[],o=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+o,r.push([t,n-1]);var a=!!r.length;return{isMatch:a,score:a?1:0,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),o}(F),J=[z,G,V,$,W,H,U,q],K=J.length,Y=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(Y).filter((function(e){return e&&!!e.trim()})),r=[],o=0,a=n.length;o<a;o+=1){for(var c=n[o],i=!1,s=-1;!i&&++s<K;){var l=J[s],u=l.isMultiMatch(c);u&&(r.push(new l(u,t)),i=!0)}if(!i)for(s=-1;++s<K;){var p=J[s],m=p.isSingleMatch(c);if(m){r.push(new p(m,t));break}}}return r}))}var Q=new Set([q.type,G.type]),X=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.isCaseSensitive,a=void 0===o?C.isCaseSensitive:o,c=r.includeMatches,i=void 0===c?C.includeMatches:c,s=r.minMatchCharLength,l=void 0===s?C.minMatchCharLength:s,u=r.findAllMatches,p=void 0===u?C.findAllMatches:u,m=r.location,d=void 0===m?C.location:m,f=r.threshold,h=void 0===f?C.threshold:f,b=r.distance,g=void 0===b?C.distance:b;t(this,e),this.query=null,this.options={isCaseSensitive:a,includeMatches:i,minMatchCharLength:l,findAllMatches:p,location:d,threshold:h,distance:g},this.pattern=a?n:n.toLowerCase(),this.query=Z(this.pattern,this.options)}return r(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var o=0,a=[],c=0,i=0,s=t.length;i<s;i+=1){var l=t[i];a.length=0,o=0;for(var u=0,m=l.length;u<m;u+=1){var d=l[u],f=d.search(e),h=f.isMatch,b=f.indices,g=f.score;if(!h){c=0,o=0,a.length=0;break}if(o+=1,c+=g,r){var v=d.constructor.type;Q.has(v)?a=[].concat(p(a),p(b)):a.push(b)}}if(o){var O={isMatch:!0,score:c/o};return r&&(O.indices=a),O}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),ee=[];function te(e,t){for(var n=0,r=ee.length;n<r;n+=1){var o=ee[n];if(o.condition(e,t))return new o(e,t)}return new R(e,t)}var ne="$and",re="$path",oe=function(e){return!(!e[ne]&&!e.$or)},ae=function(e){return!!e[re]},ce=function(e){return!d(e)&&b(e)&&!oe(e)},ie=function(e){return o({},ne,Object.keys(e).map((function(t){return o({},t,e[t])})))},se=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;t(this,e),this.options=c({},C,{},r),this.options.useExtendedSearch,this._keyStore=new w(this.options.keys),this.setCollection(n,o)}return r(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof N))throw new Error("Incorrect 'index' type");this._myIndex=t||P(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){g(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var o=this._docs[n];e(o,n)&&(this.removeAt(n),n-=1,t.push(o))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,o=this.options,a=o.includeMatches,c=o.includeScore,i=o.shouldSort,s=o.sortFn,l=o.ignoreFieldNorm,u=f(e)?f(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return le(u,{ignoreFieldNorm:l}),i&&u.sort(s),h(r)&&r>-1&&(u=u.slice(0,r)),ue(u,this._docs,{includeMatches:a,includeScore:c})}},{key:"_searchStringList",value:function(e){var t=te(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,o=e.i,a=e.n;if(g(n)){var c=t.searchIn(n),i=c.isMatch,s=c.score,l=c.indices;i&&r.push({item:n,idx:o,matches:[{score:s,value:n,norm:a,indices:l}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,o=void 0===r||r,a=function e(n){var r=Object.keys(n),a=ae(n);if(!a&&r.length>1&&!oe(n))return e(ie(n));if(ce(n)){var c=a?n[re]:r[0],i=a?n.$val:n[c];if(!f(i))throw new Error(y(c));var s={keyId:k(c),pattern:i};return o&&(s.searcher=te(i,t)),s}var l={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];d(r)&&r.forEach((function(t){l.children.push(e(t))}))})),l};return oe(e)||(e=ie(e)),a(e)}(e,this.options),r=this._myIndex.records,o={},a=[];return r.forEach((function(e){var r=e.$,c=e.i;if(g(r)){var i=function e(n,r,o){if(!n.children){var a=n.keyId,c=n.searcher,i=t._findMatches({key:t._keyStore.get(a),value:t._myIndex.getValueForItemAtKeyId(r,a),searcher:c});return i&&i.length?[{idx:o,item:r,matches:i}]:[]}switch(n.operator){case ne:for(var s=[],l=0,u=n.children.length;l<u;l+=1){var m=e(n.children[l],r,o);if(!m.length)return[];s.push.apply(s,p(m))}return s;case"$or":for(var d=[],f=0,h=n.children.length;f<h;f+=1){var b=e(n.children[f],r,o);if(b.length){d.push.apply(d,p(b));break}}return d}}(n,r,c);i.length&&(o[c]||(o[c]={idx:c,item:r,matches:[]},a.push(o[c])),i.forEach((function(e){var t,n=e.matches;(t=o[c].matches).push.apply(t,p(n))})))}})),a}},{key:"_searchObjectList",value:function(e){var t=this,n=te(e,this.options),r=this._myIndex,o=r.keys,a=r.records,c=[];return a.forEach((function(e){var r=e.$,a=e.i;if(g(r)){var i=[];o.forEach((function(e,o){i.push.apply(i,p(t._findMatches({key:e,value:r[o],searcher:n})))})),i.length&&c.push({idx:a,item:r,matches:i})}})),c}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!g(n))return[];var o=[];if(d(n))n.forEach((function(e){var n=e.v,a=e.i,c=e.n;if(g(n)){var i=r.searchIn(n),s=i.isMatch,l=i.score,u=i.indices;s&&o.push({score:l,key:t,value:n,idx:a,norm:c,indices:u})}}));else{var a=n.v,c=n.n,i=r.searchIn(a),s=i.isMatch,l=i.score,u=i.indices;s&&o.push({score:l,key:t,value:a,norm:c,indices:u})}return o}}]),e}();function le(e,t){var n=t.ignoreFieldNorm,r=void 0===n?C.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,o=e.norm,a=e.score,c=n?n.weight:null;t*=Math.pow(0===a&&c?Number.EPSILON:a,(c||1)*(r?1:o))})),e.score=t}))}function ue(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,o=void 0===r?C.includeMatches:r,a=n.includeScore,c=void 0===a?C.includeScore:a,i=[];return o&&i.push(D),c&&i.push(T),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return i.length&&i.forEach((function(t){t(e,r)})),r}))}return se.version="6.4.1",se.createIndex=P,se.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?C.getFn:n,o=e.keys,a=e.records,c=new N({getFn:r});return c.setKeys(o),c.setIndexRecords(a),c},se.config=C,function(){ee.push.apply(ee,arguments)}(X),se},e.exports=r()},,function(e,t,n){var r=n(14);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=e[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){!function(){e.exports=this.React}()},function(e,t){!function(){e.exports=this.ReactDOM}()},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),o=new RegExp("(%[a-f0-9]{2})+","gi");function a(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],a(n),a(r))}function c(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=a(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=o.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=c(n[0]);r!==n[0]&&(t[n[0]]=r)}n=o.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),i=0;i<a.length;i++){var s=a[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";n.r(t);var r=n(0),o=(n(18),n(9)),a=n.n(o);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=tiobDash,l=s.onboarding,u=s.themeAction,p=void 0!==l.sites&&void 0!==l.sites.sites?Object.keys(l.sites.sites)[0]:"gutenberg",m=localStorage.getItem("neve-onboarding-editor")||p,d={sites:l.sites||{},editor:m,category:"all",previewStatus:!1,importModalStatus:!1,installModalStatus:!1,currentSite:null,importing:!1,isOnboarding:l.onboarding||!1,migrationData:null,themeAction:u,currentTab:"templates"},f={refreshSites:function(e){return{type:"REFRESH_SITES",payload:{sites:e}}},setCurrentEditor:function(e){return{type:"SET_CURRENT_EDITOR",payload:{editor:e}}},setCurrentCategory:function(e){return{type:"SET_CURRENT_CATEGORY",payload:{category:e}}},setCurrentSite:function(e){return{type:"SET_FOCUSED_SITE",payload:{siteData:e}}},setPreviewStatus:function(e){return e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_PREVIEW_STATUS",payload:{previewStatus:e}}},setImportModalStatus:function(e){return e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_IMPORT_MODAL_STATUS",payload:{importModalStatus:e}}},setInstallModalStatus:function(e){return e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_INSTALL_MODAL_STATUS",payload:{installModalStatus:e}}},setOnboardingState:function(e){return{type:"SET_ONBOARDING",payload:{state:e}}},setThemeAction:function(e){return{type:"SET_THEME_ACTIONS",payload:{themeActions:e}}},setCurrentTab:function(e){return{type:"SET_CURRENT_TAB",payload:{currentTab:e}}}},h=n(4),b=n(6),g=n.n(b),v=n(16),O=n.n(v),y=n(3),j=n.n(y),E=n(1),w=n(2),_=n(7),S=Object(_.compose)(Object(h.withSelect)((function(e){return{category:(0,e("neve-onboarding").getCurrentCategory)()}})),Object(h.withDispatch)((function(e){var t=e("neve-onboarding").setCurrentCategory;return{setCurrentCategory:function(e){return t(e)}}})))((function(e){var t=e.count,n=e.categories,o=e.onSearch,a=e.category,c=e.setCurrentCategory,i=e.query,s=Object(r.useState)(!1),l=j()(s,2),u=l[0],p=l[1],m=function(){return p(!u)};return Object(r.createElement)("div",{className:"header-form"},Object(r.createElement)("div",{className:"search"},Object(r.createElement)("img",{src:tiobDash.assets+"/img/search.svg",alt:Object(E.__)("Search Icon")}),Object(r.createElement)("input",{onChange:function(e){o(e.target.value)},type:"search",value:i,placeholder:Object(E.__)("Search for a starter site","templates-patterns-collection")+"..."}),Object(r.createElement)("div",{className:"ob-dropdown categories-selector"},Object(r.createElement)(w.Button,{onClick:m,className:"select ob-dropdown"},n[a],Object(r.createElement)(w.Dashicon,{size:14,icon:u?"arrow-up-alt2":"arrow-down-alt2"}),u&&Object(r.createElement)(w.Popover,{position:"bottom center",onClose:m,noArrow:!0},u&&Object(r.createElement)("ul",{className:"options"},Object.keys(n).map((function(e,o){return e===a||"free"===e&&t.all===t[e]?null:Object(r.createElement)("li",{key:o},Object(r.createElement)("a",{href:"#",onClick:function(t){t.preventDefault(),c(e),p(!1)}},Object(r.createElement)("span",null,n[e]),Object(r.createElement)("span",{className:"count"},t[e])))}))))))))})),k=Object(_.compose)(Object(h.withSelect)((function(e){return{themeStatus:(0,e("neve-onboarding").getThemeAction)().action||!1}})),Object(h.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setCurrentSite,r=t.setPreviewStatus,o=t.setImportModalStatus,a=t.setInstallModalStatus;return{setSite:function(e){return n(e)},setPreview:function(e){return r(e)},setModal:function(e){return o(e)},setInstallModal:function(e){return a(e)}}})))((function(e){var t=e.data,n=e.setSite,o=e.setPreview,a=e.setModal,c=e.themeStatus,i=e.setInstallModal,s=t.upsell,l=Object(r.useState)(""),u=j()(l,2),p=u[0],m=u[1];return Object(r.createElement)("div",{onMouseEnter:function(){m("visible")},onMouseLeave:function(){m("")},className:"card starter-site-card"},Object(r.createElement)("div",{className:"top"},Object(r.createElement)("div",{className:"actions "+p},Object(r.createElement)(w.Button,{isSecondary:!0,isLarge:!0,onClick:function(e){e.preventDefault(),n(t),o(!0)}},Object(E.__)("Preview","templates-patterns-collection")),!s&&Object(r.createElement)(w.Button,{isPrimary:!0,isLarge:!0,className:"import",onClick:function(e){if(e.preventDefault(),n(t),c)return i(!0),!1;a(!0)}},Object(E.__)("Import","templates-patterns-collection"))),t.screenshot&&Object(r.createElement)("div",{className:"image",style:{backgroundImage:'url("'.concat(t.screenshot,'")')}})),Object(r.createElement)("div",{className:"bottom"},Object(r.createElement)("p",{className:"title"},t.title),s&&Object(r.createElement)("span",{className:"pro-badge"},Object(r.createElement)(w.Dashicon,{icon:"lock",size:15}),Object(r.createElement)("span",null,Object(E.__)("Premium","templates-patterns-collection")))))})),C=Object(_.compose)(Object(h.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentSite,r=t.getThemeAction;return{siteData:n(),themeStatus:r().action||!1}})),Object(h.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setCurrentSite,r=t.setPreviewStatus,o=t.setImportModalStatus,a=t.setInstallModalStatus;return{setSite:function(e){return n(e)},setPreview:function(e){return r(e)},setModal:function(e){return o(e)},setInstallModal:function(e){return a(e)}}})))((function(e){var t=e.next,n=e.prev,o=e.siteData,a=e.setSite,c=e.setPreview,i=e.setModal,s=e.themeStatus,l=e.setInstallModal,u=tiobDash.isRTL;return Object(r.createElement)("div",{className:"ob-preview"},Object(r.createElement)("div",{className:"preview"},Object(r.createElement)("iframe",{src:o.url,frameBorder:"0"}),Object(r.createElement)("div",{className:"loading"},Object(r.createElement)(w.Dashicon,{icon:"update",size:50}))),Object(r.createElement)("div",{className:"bottom-bar"},Object(r.createElement)("div",{className:"navigator"},Object(r.createElement)(w.Button,{onClick:function(e){e.preventDefault(),c(!1),a(null)},className:"close",label:Object(E.__)("Close","templates-patterns-collection"),icon:"no"}),n&&Object(r.createElement)(w.Button,{onClick:function(e){e.preventDefault(),a(n)},className:"prev",label:Object(E.__)("Previous","templates-patterns-collection"),icon:u?"arrow-right-alt2":"arrow-left-alt2"}),t&&Object(r.createElement)(w.Button,{onClick:function(e){e.preventDefault(),a(t)},className:"next",label:Object(E.__)("Next","templates-patterns-collection"),icon:u?"arrow-left-alt2":"arrow-right-alt2"})),Object(r.createElement)("div",{className:"actions"},o.upsell?Object(r.createElement)(w.Button,{className:"upgrade",isPrimary:!0,href:o.utmOutboundLink||tiobDash.upgradeURL},Object(E.__)("Upgrade and Import","templates-patterns-collection")):Object(r.createElement)(w.Button,{className:"import",isPrimary:!0,onClick:function(e){if(e.preventDefault(),s)return l(!0),!1;i(!0)}},Object(E.__)("Import","templates-patterns-collection")))))})),x=n(8),M=n.n(x),N=n(10),P=n.n(N),D=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return I(e,n,t)},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return I(e,t,{},"GET",n)},I=function(){var e=P()(M.a.mark((function e(t){var n,r,o,a,c,i=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=i.length>2&&void 0!==i[2]?i[2]:{},o=i.length>3&&void 0!==i[3]?i[3]:"POST",a=!(i.length>4&&void 0!==i[4])||i[4],c={method:o,headers:{Accept:"application/json","Content-Type":"application/json"}},a&&(c.headers["x-wp-nonce"]=tiobDash.nonce),"POST"===o&&(c.body=JSON.stringify(r)),e.next=9,fetch(t,c).then((function(e){return n?e:e.json()}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=tiobDash.onboarding,A=function(e){return D(L.root+"/install_plugins",e)},R=function(e){var t=e.currentStep,n=e.progress,o=e.willDo,a={plugins:{label:Object(E.__)("Installing Plugins","templates-patterns-collection"),status:n.plugins,willDo:!0},content:{label:Object(E.__)("Importing Content","templates-patterns-collection"),status:n.content,willDo:o.content},customizer:{label:Object(E.__)("Importing Customizer Settings","templates-patterns-collection"),status:n.customizer,willDo:o.customizer},widgets:{label:Object(E.__)("Importing Widgets","templates-patterns-collection"),status:n.widgets,willDo:o.widgets}};return Object(r.createElement)("ul",{className:"stepper"},Object.keys(a).map((function(e,n){var o=a[e],c=o.label,i=o.status;if(!o.willDo)return null;var s=g()(["icon",{loading:t===e,warning:t===e,success:"done"===i,error:"error"===i,skip:"skip"===i}]),l="clock";return t===e&&(l="update"),"done"===i&&(l="yes"),"error"===i&&(l="no-alt"),Object(r.createElement)("li",{key:n},Object(r.createElement)("span",{className:s},Object(r.createElement)(w.Dashicon,{icon:l,className:t===e?"loading":""})),Object(r.createElement)("span",null,c))})))},F=function(e){var t=e.data,n=e.externalInstalled,o=t.external_plugins||null,a=g()(["well",{warning:o&&!n}]);return Object(r.createElement)("div",{className:a},Object(r.createElement)("h3",null,Object(r.createElement)(w.Dashicon,{icon:"info"}),Object(r.createElement)("span",null,o&&!n?Object(E.__)("To import this demo you have to install the following plugins","neve"):Object(E.__)("Note","templates-patterns-collection"),":")),Object(r.createElement)("ol",null,o&&!n?o.map((function(e,t){return Object(r.createElement)("li",{key:t},Object(r.createElement)(w.Button,{isLink:!0,href:e.author_url},e.name))})):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("li",null,Object(E.__)("We recommend you backup your website content before attempting a full site import.","neve")),Object(r.createElement)("li",null,Object(E.__)("Some of the demo images will not be imported and will be replaced by placeholder images.","neve")))))},B=function(e){var t=e.message,n=e.code;return Object(r.createElement)("div",{className:"well error"},t&&Object(r.createElement)("h3",null,Object(r.createElement)(w.Dashicon,{icon:"warning"}),Object(r.createElement)("span",null,t)),Object(r.createElement)("ul",null,Object(r.createElement)("li",{dangerouslySetInnerHTML:{__html:tiobDash.onboarding.i18n.troubleshooting}}),Object(r.createElement)("li",{dangerouslySetInnerHTML:{__html:tiobDash.onboarding.i18n.support}}),n&&Object(r.createElement)("li",null,Object(E.__)("Error code","templates-patterns-collection"),":"," ",Object(r.createElement)("code",null,n)),Object(r.createElement)("li",null,Object(E.__)("Error log","templates-patterns-collection"),":"," ",Object(r.createElement)(w.Button,{isLink:!0,href:tiobDash.onboarding.logUrl},tiobDash.onboarding.logUrl,Object(r.createElement)(w.Dashicon,{icon:"external"})))))};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var V=Object(_.compose)(Object(h.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getCurrentSite;return{editor:n(),siteData:r()}})),Object(h.withDispatch)((function(e){var t=e("neve-onboarding").setImportModalStatus;return{setModal:function(e){return t(e)}}})))((function(e){var t=e.setModal,n=e.editor,o=e.siteData,c=Object(r.useState)({content:!0,customizer:!0,widgets:!0}),i=j()(c,2),s=i[0],l=i[1],u=Object(r.useState)(!1),p=j()(u,2),m=p[0],d=p[1],f=Object(r.useState)(!1),h=j()(f,2),b=h[0],v=h[1],O=Object(r.useState)(!1),y=j()(O,2),_=y[0],S=y[1],k=Object(r.useState)(!1),C=j()(k,2),x=C[0],M=C[1],N=Object(r.useState)(null),P=j()(N,2),I=P[0],z=P[1],V=Object(r.useState)(null),$=j()(V,2),H=$[0],W=$[1],q=Object(r.useState)(!1),G=j()(q,2),J=G[0],K=G[1],Y=Object(r.useState)(null),Z=j()(Y,2),Q=Z[0],X=Z[1],ee=Object(r.useState)(null),te=j()(ee,2),ne=te[0],re=te[1],oe=Object(r.useState)(null),ae=j()(oe,2),ce=ae[0],ie=ae[1],se=Object(r.useState)(!0),le=j()(se,2),ue=le[0],pe=le[1],me=tiobDash.license;Object(r.useEffect)((function(){var e=o.remote_url||o.url,t=new URL("".concat(function(e){return e.replace(/\/$/,"")}(e)+"/","wp-json/ti-demo-data/data"));t.searchParams.append("license",me?me.key:"free"),T(t,!0,!1).then((function(e){e.ok||(re({message:Object(E.__)("Something went wrong while loading the site data. Please refresh the page and try again.","templates-patterns-collection"),code:"ti__ob_failed_fetch_response"}),pe(!1)),e.json().then((function(e){ie(U(U({},e),o));var t=U({},e.mandatory_plugins||{}),n=U({},e.recommended_plugins||{}),r=e.default_off_recommended_plugins||[];Object.keys(t).map((function(e){t[e]=!0})),Object.keys(n).map((function(e){n[e]=!r.includes(e)})),X(U(U({},n),t)),pe(!1)}))})).catch((function(e){re({message:Object(E.__)("Something went wrong while loading the site data. Please refresh the page and try again.","templates-patterns-collection"),code:"ti__ob_failed_fetch_catch"}),pe(!1)}))}),[]);function de(){if(!s.content)return console.log("[S] Content."),fe(),!1;var e;W("content"),console.log("[P] Content."),(e={contentFile:ce.content_file,source:"remote",frontPage:ce.front_page,shopPages:ce.shop_pages,demoSlug:ce.slug,editor:n},D(L.root+"/import_content",e)).then((function(e){if(!e.success)return ge(e,"content"),!1;console.log("[D] Content."),e.frontpage_id&&z(e.frontpage_id),v("done"),fe()})).catch((function(e){return ge(e,"content")}))}function fe(){if(!s.customizer)return console.log("[S] Customizer."),he(),!1;var e;W("customizer"),console.log("[P] Customizer."),(e={source_url:ce.url,theme_mods:ce.theme_mods,wp_options:ce.wp_options},D(L.root+"/import_theme_mods",e)).then((function(e){if(!e.success)return ge(e,"customizer"),!1;console.log("[D] Customizer."),S("done"),he()})).catch((function(e){return ge(e,"customizer")}))}function he(){var e;s.widgets||(console.log("[S] Widgets."),be()),W("widgets"),console.log("[P] Widgets."),(e=ce.widgets,D(L.root+"/import_widgets",e)).then((function(e){if(!e.success)return ge(e,"widgets"),!1;console.log("[D] Widgets."),M("done"),be()})).catch((function(e){return ge(e,"widgets")}))}function be(){W("done"),K(!1)}function ge(e,t){K(!1),W(null),"plugins"===t&&v("skip"),["content","plugins"].includes(t)&&S("skip"),["content","plugins","customizer"].includes(t)&&M("skip");var n={plugins:Object(E.__)("Something went wrong while installing the necessary plugins.","templates-patterns-collection"),content:Object(E.__)("Something went wrong while importing the website content.","templates-patterns-collection"),customizer:Object(E.__)("Something went wrong while updating the customizer settings.","templates-patterns-collection"),widgets:Object(E.__)("Something went wrong while importing the widgets.","templates-patterns-collection")};switch(t){case"plugins":d("error");break;case"content":v("error");break;case"customizer":S("error");break;case"widgets":M("error")}re(e.data?{message:n[t],code:e.data}:{message:n[t]})}var ve,Oe=function(){if(J)return!1;t(!1)},ye=!o.external_plugins||o.external_plugins.every((function(e){return!0===e.active})),je=Object.keys(s).every((function(e){return!1===s[e]})),Ee={elementor:"".concat(tiobDash.onboarding.homeUrl,"/wp-admin/post.php?post=").concat(I,"&action=elementor"),brizy:"".concat(tiobDash.onboarding.homeUrl,"/?brizy-edit"),"beaver builder":"".concat(tiobDash.onboarding.homeUrl,"/?fl_builder"),"thrive architect":"".concat(tiobDash.onboarding.homeUrl,"/wp-admin/post.php?post=").concat(I,"&action=architect&tve=true"),"divi builder":"".concat(tiobDash.onboarding.homeUrl,"/?et_fb=1&PageSpeed=off"),gutenberg:"".concat(tiobDash.onboarding.homeUrl,"/wp-admin/post.php?post=").concat(I,"&action=edit")}[n];return Object(r.createElement)(w.Modal,{className:g()(["ob-import-modal",{fetching:ue}]),title:ce&&!ue?ce.title:Object(r.createElement)("span",{className:"is-loading title"}),onRequestClose:Oe,shouldCloseOnClickOutside:!J&&!ue,isDismissible:!J&&!ue},ue?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},Object(r.createElement)("div",{className:"well is-loading"},Object(r.createElement)("h3",null,Object(r.createElement)("div",{className:"mock-icon is-loading"}),Object(r.createElement)("span",{className:"is-loading"})),Object(r.createElement)("ol",null,[1,2,3].map((function(e){return Object(r.createElement)("li",{key:e})})))),Object(r.createElement)("hr",null),Object(r.createElement)("div",{className:"options general"},Object(r.createElement)("h3",{className:"is-loading"}),Object(r.createElement)("ul",null,[1,2,3].map((function(e){return Object(r.createElement)("li",{key:e},Object(r.createElement)("div",{className:"mock-icon is-loading"}),Object(r.createElement)("span",{className:"is-loading"}),Object(r.createElement)("div",{className:"toggle is-loading"}))})))),Object(r.createElement)("hr",null),Object(r.createElement)("div",{className:"options plugins"},Object(r.createElement)("h3",{className:"is-loading"}),Object(r.createElement)("ul",null,[1,2].map((function(e){return Object(r.createElement)("li",{key:e},Object(r.createElement)("div",{className:"mock-icon is-loading"}),Object(r.createElement)("span",{className:"is-loading"}),Object(r.createElement)("div",{className:"toggle is-loading"}))}))))),Object(r.createElement)("div",{className:"modal-footer"},Object(r.createElement)(w.Button,{isSecondary:!0,className:"is-loading"}),Object(r.createElement)(w.Button,{isPrimary:!0,className:"is-loading"}))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},J||"done"===H||ne?Object(r.createElement)(r.Fragment,null,ne&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(B,{message:ne.message||null,code:ne.code||null}),Object(r.createElement)("hr",null)),null!==H&&Object(r.createElement)(R,{progress:{plugins:m,content:b,customizer:_,widgets:x},currentStep:H,willDo:s}),"done"===H&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("hr",null),Object(r.createElement)("p",{className:"import-result"},Object(E.__)("Content was successfully imported. Enjoy your new site!","templates-patterns-collection")),Object(r.createElement)("hr",null))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(F,{data:ce,externalInstalled:ye}),Object(r.createElement)("hr",null),(ve={content:{title:Object(E.__)("Content","templates-patterns-collection"),icon:"admin-post"},customizer:{title:Object(E.__)("Customizer","templates-patterns-collection"),icon:"admin-customizer"},widgets:{title:Object(E.__)("Widgets","templates-patterns-collection"),icon:"admin-generic"}},Object(r.createElement)("div",{className:"options general"},Object(r.createElement)("h3",null,Object(E.__)("General","templates-patterns-collection"),":"),Object(r.createElement)("ul",null,Object.keys(ve).map((function(e,t){return Object(r.createElement)("li",{key:t},Object(r.createElement)(w.Dashicon,{className:g()({active:s[e]}),icon:ve[e].icon}),Object(r.createElement)("span",null,ve[e].title),Object(r.createElement)("div",{className:"toggle-wrapper"},Object(r.createElement)(w.ToggleControl,{checked:s[e],onChange:function(){l(U(U({},s),{},a()({},e,!s[e])))}})))}))))),Object(r.createElement)("hr",null),function(){if(ue)return null;var e=U(U({},ce.recommended_plugins||{}),ce.mandatory_plugins||{});return Object(r.createElement)("div",{className:"options plugins"},Object(r.createElement)("h3",null,Object(E.__)("Plugins","templates-patterns-collection"),":"),Object(r.createElement)("ul",null,Object.keys(e).map((function(t,n){return Object(r.createElement)("li",{key:n},Object(r.createElement)(w.Dashicon,{icon:"admin-plugins",className:g()({active:Q[t]})}),Object(r.createElement)("span",{dangerouslySetInnerHTML:{__html:e[t]}}),t in ce.recommended_plugins&&Object(r.createElement)("div",{className:"toggle-wrapper"},Object(r.createElement)(w.ToggleControl,{checked:Q[t],onChange:function(){X(U(U({},Q),{},a()({},t,!Q[t])))}})))}))))}())),!J&&Object(r.createElement)("div",{className:"modal-footer"},"done"!==H?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(w.Button,{isSecondary:!0,onClick:Oe},Object(E.__)("Close","templates-patterns-collection")),!ne&&Object(r.createElement)(w.Button,{isPrimary:!0,disabled:je||!ye,onClick:function(){K(!0),function(){if(console.clear(),!Q)return console.log("[S] Plugins."),de(),!1;W("plugins"),console.log("[P] Plugins."),A(Q).then((function(e){if(!e.success)return ge(e,"plugins"),!1;console.log("[D] Plugins."),d("done"),de()})).catch((function(e){return ge(e,"plugins")}))}()}},Object(E.__)("Import","templates-patterns-collection"))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(w.Button,{isLink:!0,className:"close",onClick:Oe},Object(E.__)("Back to Sites Library","templates-patterns-collection")),Object(r.createElement)(w.Button,{isSecondary:!0,href:tiobDash.onboarding.homeUrl},Object(E.__)("View Website","templates-patterns-collection")),Object(r.createElement)(w.Button,{isPrimary:!0,href:Ee},Object(E.__)("Add your own content","templates-patterns-collection"))))))}));function $(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var W=Object(_.compose)(Object(h.withSelect)((function(e){return{themeData:(0,e("neve-onboarding").getThemeAction)()||!1}})),Object(h.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setImportModalStatus,r=t.setInstallModalStatus,o=t.setThemeAction;return{setImportModal:function(e){return n(e)},setInstallModal:function(e){return r(e)},setThemeAction:function(e){return o(e)}}})))((function(e){var t=e.setImportModal,n=e.setInstallModal,o=e.themeData,a=e.setThemeAction,c=o.action,i=o.slug,s=o.nonce,l=tiobDash,u=l.themesURL,p=l.brandedTheme,m=Object(r.useState)(!1),d=j()(m,2),f=d[0],h=d[1],b=Object(r.useState)(null),g=j()(b,2),v=g[0],O=g[1],y=function(){n(!1)},_=function(e){h(!1),O(Object(E.sprintf)(// translators: %s: Error message.
Object(E.__)("An error has ocurred: %s","templates-patterns-collection"),e))},S=function(){h("activating");var e="".concat(u,"?action=activate&stylesheet=").concat(i,"&_wpnonce=").concat(s);T(e,!0).then((function(e){if(200!==e.status)return _(Object(E.__)("Could not activate theme.","templates-patterns-collection")),h(!1),!1;h(!1),n(!1),a(!1),t(!0)}))};return Object(r.createElement)(w.Modal,{className:"ob-import-modal install-modal",title:Object(E.__)("Install and Activate Neve","templates-patterns-collection"),onRequestClose:y,shouldCloseOnClickOutside:!f,isDismissible:!f},Object(r.createElement)("div",{className:"modal-body",style:{textAlign:"center"}},!p&&Object(r.createElement)("img",{style:{width:75},src:"".concat(tiobDash.assets,"/img/logo.svg"),alt:Object(E.__)("Logo","templates-patterns-collection")}),v&&Object(r.createElement)("div",{className:"well error",style:{margin:"20px 0"}},v),Object(r.createElement)("p",{style:{lineHeight:1.6,fontSize:"15px"}},Object(E.__)("In order to import the starter site, Neve theme has to be installed and activated. Click the button below to install and activate Neve","templates-patterns-collection"))),Object(r.createElement)("div",{className:"modal-footer",style:{justifyContent:"center"}},Object(r.createElement)("div",{className:"actions",style:{display:"flex"}},!v&&Object(r.createElement)(w.Button,{dismiss:v,isPrimary:!0,disabled:f,className:f&&"is-loading",icon:f&&"update",onClick:"install"===c?function(){h("installing"),wp.updates.installTheme({slug:"neve",success:function(){a(H(H({},o),{},{action:"activate"})),S()},error:function(e){a(H(H({},o),{},{action:"activate"})),_(e.errorMessage||Object(E.__)("Could not install theme.","templates-patterns-collection"))}})}:S},f&&("installing"===f?Object(E.__)("Installing"):Object(E.__)("Activating")),!f&&("install"===c?Object(E.__)("Install and Activate","templates-patterns-collection"):Object(E.__)("Activate","templates-patterns-collection"))),Object(r.createElement)(w.Button,{isSecondary:!0,disabled:f,onClick:y},Object(E.__)("Close","templates-patterns-collection")))))})),q=function(e){var t=e.data,n=function(e){return console.log(e)},o=Object(r.useState)(!1),a=j()(o,2),c=a[0],i=a[1],s=Object(r.useState)(!1),l=j()(s,2),u=l[0],p=l[1],m=Object(r.useState)(!1),d=j()(m,2),f=d[0],h=d[1],b=Object(r.useState)(null),g=j()(b,2),v=g[0],O=g[1],y=Object(r.useState)(null),_=j()(y,2),S=_[0],k=_[1];if(c)return null;var C=function(){"done"===f&&i(!0),p(!1),O(null),h(!1)};return Object(r.createElement)("div",{className:"ob-migration"},u&&Object(r.createElement)(w.Modal,{className:"ob-import-modal migration",title:Object(E.__)("Migrate","templates-patterns-collection")+" "+t.theme_name,onRequestClose:C,shouldCloseOnClickOutside:!f,isDismissible:!f},Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},v&&Object(r.createElement)(B,{message:v.message||null,code:v.code||null}),!1===f&&!v&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(F,{data:t}),t.mandatory_plugins&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("hr",null),Object(r.createElement)("h3",null,Object(E.__)("The following plugins will be installed","neve"),":"),Object(r.createElement)("ul",null,Object.keys(t.mandatory_plugins).map((function(e,n){return Object(r.createElement)("li",{key:n},"-"," ",t.mandatory_plugins[e])}))))),"done"===f&&Object(r.createElement)("p",{className:"import-result"},Object(E.__)("Content was successfully imported. Enjoy your new site!","neve")),!0===f&&Object(r.createElement)("div",{className:"loading"},Object(r.createElement)(w.Dashicon,{icon:"update",size:50}),Object(r.createElement)("h3",null,Object(E.__)("Migrating","templates-patterns-collection"),"..."))),(!f||"done"===f)&&Object(r.createElement)("div",{className:"modal-footer"},Object(r.createElement)(w.Button,{isSecondary:"done"!==f,isLink:"done"===f,className:"done"===f?"close":null,onClick:C},"done"===f?Object(E.__)("Close","templates-patterns-collection"):Object(E.__)("Cancel","templates-patterns-collection")),v||"done"===f?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(w.Button,{isSecondary:!0,href:"".concat(tiobDash.onboarding.homeUrl,"/wp-admin/post.php?post=").concat(S,"&action=elementor")},Object(E.__)("Edit Content","templates-patterns-collection")),Object(r.createElement)(w.Button,{isPrimary:!0,href:tiobDash.onboarding.homeUrl},Object(E.__)("View Website","templates-patterns-collection"))):Object(r.createElement)(w.Button,{isPrimary:!0,onClick:function(){var e;e=Object.keys(t.mandatory_plugins).reduce((function(e,t){return e[t]=!0,e}),{}),A(e).then((function(e){if(h(!0),!e.success)return O({code:e.data||null,message:Object(E.__)("Something went wrong while installing the necessary plugins.","neve")}),h(!1),!1;var n=t.template,r=t.template_name;D(tiobDash.onboarding.root+"/migrate_frontpage",{template:n,template_name:r}).then((function(e){if(!e.success)return O({code:e.data||null,message:Object(E.__)("Something went wrong while importing the website content.","neve")}),h(!1),!1;k(e.data),h("done")}))}))}},Object(E.__)("Start Migration","templates-patterns-collection"))))),Object(r.createElement)("h2",null,t.heading),Object(r.createElement)("p",null,t.description),Object(r.createElement)("div",{className:"card starter-site-card"},Object(r.createElement)("div",{className:"top"},t.screenshot&&Object(r.createElement)("div",{className:"image"},Object(r.createElement)("img",{src:t.screenshot,alt:t.theme_name}))),Object(r.createElement)("div",{className:"bottom"},Object(r.createElement)("p",{className:"title"},t.theme_name))),Object(r.createElement)("div",{className:"actions"},Object(r.createElement)(w.Button,{isPrimary:!0,onClick:function(){return p(!0),!1}},Object(E.__)("Migrate","templates-patterns-collection")+" "+t.theme_name),Object(r.createElement)(w.Button,{isSecondary:!0,onClick:function(){D(tiobDash.onboarding.root+"/dismiss_migration",{theme_mod:t.theme_mod}).then((function(e){if(!e.success)return n(Object(E.__)("Something went wrong. Please reload the page and try again.","neve")),!1;n(Object(E.__)("Dismissed","templates-patterns-collection")),i(!0)}))}},Object(E.__)("Dismiss","templates-patterns-collection"))))},G=n(13),J=n.n(G),K=n(17),Y=n.n(K),Z=Object(_.compose)(Object(h.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getSites;return{editor:n(),sites:r().sites}})),Object(h.withDispatch)((function(e){var t=e("neve-onboarding").setCurrentEditor;return{setCurrentEditor:function(e){return t(e)}}})))((function(e){var t=e.EDITOR_MAP,n=e.count,o=e.onlyProSites,a=e.editor,c=e.setCurrentEditor,i=e.sites,s=Object.keys(i);return Object(r.createElement)("div",{className:"editor-tabs"},s.map((function(e,i){var s=g()(["tab",e,{active:e===a}]);return Object(r.createElement)("a",{key:i,href:"#",className:s,onClick:function(t){t.preventDefault(),c(e)}},Object(r.createElement)("span",{className:"icon-wrap"},Object(r.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+t[e].icon,alt:Object(E.__)("Builder Logo","templates-patterns-collection")})),Object(r.createElement)("span",{className:"editor"},t[e].niceName),Object(r.createElement)("span",{className:"count"},n[e]),o.includes(e)&&Object(r.createElement)("span",{className:"pro-badge"},"PRO"))})))})),Q=Object(_.compose)(Object(h.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getSites;return{editor:n(),sites:r().sites}})),Object(h.withDispatch)((function(e){var t=e("neve-onboarding").setCurrentEditor;return{setCurrentEditor:function(e){return t(e)}}})))((function(e){var t=e.EDITOR_MAP,n=e.count,o=e.editor,a=e.setCurrentEditor,c=e.sites,i=e.isSmall,s=Object(r.useState)(!1),l=j()(s,2),u=l[0],p=l[1],m=Object.keys(c),d=function(){return p(!u)},f=g()(["ob-dropdown","editor-selector",{small:i}]);return Object(r.createElement)("div",{className:f},Object(r.createElement)(w.Button,{onClick:d,className:"select ob-dropdown"},Object(r.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+t[o].icon,alt:Object(E.__)("Builder Logo","templates-patterns-collection")}),!i&&Object(r.createElement)("span",null,t[o].niceName),Object(r.createElement)("span",{className:"count"},n[o]),Object(r.createElement)(w.Dashicon,{size:14,icon:u?"arrow-up-alt2":"arrow-down-alt2"}),u&&Object(r.createElement)(w.Popover,{position:"bottom center",onClose:d,noArrow:!0},u&&Object(r.createElement)("ul",{className:"options"},m.map((function(e,c){return e===o?null:Object(r.createElement)("li",{key:c},Object(r.createElement)("a",{href:"#",onClick:function(t){t.preventDefault(),a(e),p(!1)}},Object(r.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+t[e].icon,alt:Object(E.__)("Builder Logo","templates-patterns-collection")}),Object(r.createElement)("span",null,t[e].niceName),Object(r.createElement)("span",{className:"count"},n[e])))}))))))})),X=n(5),ee=function(){return Object(r.createElement)(X.SVG,{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ob-logo"},Object(r.createElement)(X.Path,{d:"M95.0264 100H4.97356C2.22797 100 0 97.772 0 95.0264V4.97356C0 2.22797 2.22797 0 4.97356 0H95.0264C97.772 0 100 2.22797 100 4.97356V95.0264C100 97.772 97.772 100 95.0264 100Z",fill:"#0366D6"}),Object(r.createElement)(X.Path,{d:"M82.6941 86.7448V30.8205V18.4653H70.3502H14.4146L26.7584 30.8205H70.3502V74.401L82.6941 86.7448Z",fill:"white"}),Object(r.createElement)(X.Path,{d:"M42.2416 58.9291L42.2528 71.183L53.2352 82.1653L53.1902 47.9806L18.9941 47.9355L29.9765 58.9066L42.2416 58.9291Z",fill:"white"}))},te=n(11),ne=n(12),re=n.n(ne),oe=Object(r.createElement)(X.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(X.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"})),ae=Object(r.createElement)(X.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(r.createElement)(X.Path,{d:"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z"})),ce=Object(r.createElement)(X.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(X.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),ie=Object(r.createElement)(X.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(X.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),se=Object(r.createElement)(X.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(r.createElement)(X.Path,{d:"M18 4h-7c-1.1 0-2 .9-2 2v3H6c-1.1 0-2 .9-2 2v7c0 1.1.9 2 2 2h7c1.1 0 2-.9 2-2v-3h3c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-4.5 14c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5v-7c0-.3.2-.5.5-.5h3V13c0 1.1.9 2 2 2h2.5v3zm0-4.5H11c-.3 0-.5-.2-.5-.5v-2.5H13c.3 0 .5.2.5.5v2.5zm5-.5c0 .3-.2.5-.5.5h-3V11c0-1.1-.9-2-2-2h-2.5V6c0-.3.2-.5.5-.5h7c.3 0 .5.2.5.5v7z"})),le=Object(r.createElement)(X.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(r.createElement)(X.Path,{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"})),ue="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),pe=new Uint8Array(16);function me(){if(!ue)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ue(pe)}var de=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var fe=function(e){return"string"==typeof e&&de.test(e)},he=[],be=0;be<256;++be)he.push((be+256).toString(16).substr(1));var ge=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(he[e[t+0]]+he[e[t+1]]+he[e[t+2]]+he[e[t+3]]+"-"+he[e[t+4]]+he[e[t+5]]+"-"+he[e[t+6]]+he[e[t+7]]+"-"+he[e[t+8]]+he[e[t+9]]+"-"+he[e[t+10]]+he[e[t+11]]+he[e[t+12]]+he[e[t+13]]+he[e[t+14]]+he[e[t+15]]).toLowerCase();if(!fe(n))throw TypeError("Stringified UUID is invalid");return n};var ve=function(e,t,n){var r=(e=e||{}).random||(e.rng||me)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return ge(r)};function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var je=function(e){var t=e.item,n=e.loadTemplates,o=Object(r.useState)(!1),a=j()(o,2),c=a[0],i=a[1],s=Object(r.useState)(!1),l=j()(s,2),u=l[0],p=l[1],m=Object(r.useState)(t.template_name),d=j()(m,2),f=d[0],h=d[1],b=function(){var e=P()(M.a.mark((function e(){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("updating"),r=Object(te.stringifyUrl)({url:window.tiobDash.endpoint+t.template_id,query:ye({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiobDash.params)}),e.prev=2,e.next=5,re()({url:r,method:"POST",data:{template_id:t.template_id,template_name:f||t.template_name}});case 5:return window.localStorage.setItem("tpcCacheBuster",ve()),e.next=8,n();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.message&&console.log(e.t0.message);case 13:i(!1),p(!u);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=P()(M.a.mark((function e(){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("duplicating"),r=Object(te.stringifyUrl)({url:window.tiobDash.endpoint+t.template_id+"/clone",query:ye({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiobDash.params)}),e.prev=2,e.next=5,re()({url:r,method:"POST"});case 5:return window.localStorage.setItem("tpcCacheBuster",ve()),e.next=8,n();case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.message&&console.log(e.t0.message);case 13:i(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=P()(M.a.mark((function e(){var r;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm(Object(E.__)("Are you sure you want to delete this template?"))){e.next=2;break}return e.abrupt("return",!1);case 2:return i("deleting"),r=Object(te.stringifyUrl)({url:window.tiobDash.endpoint+t.template_id,query:ye({cache:window.localStorage.getItem("tpcCacheBuster"),_method:"DELETE"},window.tiobDash.params)}),e.prev=4,e.next=7,re()({url:r,method:"POST"});case 7:return window.localStorage.setItem("tpcCacheBuster",ve()),e.next=10,n();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0.message&&console.log(e.t0.message);case 15:i(!1);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return Object(r.createElement)("div",{key:t.template_id,className:"list-item__table_row"},Object(r.createElement)("div",{className:"list-item__table_row__title"},Object(r.createElement)(w.Icon,{icon:oe}),u?Object(r.createElement)(w.TextControl,{label:Object(E.__)("Template Name"),hideLabelFromVision:!0,value:f,onChange:h}):t.template_name),Object(r.createElement)("div",{className:"list-item__table_row__controls"},Object(r.createElement)(w.Button,{label:u?Object(E.__)("Update"):Object(E.__)("Edit"),icon:u?"updating"===c?ae:ce:ie,disabled:!1!==c,className:g()({"is-loading":"updating"===c}),onClick:u?b:function(){return p(!u)}}),Object(r.createElement)(w.Button,{label:Object(E.__)("Duplicate"),icon:"duplicating"===c?ae:se,disabled:!1!==c,className:g()({"is-loading":"duplicating"===c}),onClick:v}),Object(r.createElement)(w.Button,{label:Object(E.__)("Delete"),icon:"deleting"===c?ae:le,disabled:!1!==c,className:g()({"is-loading":"deleting"===c}),onClick:O})),Object(r.createElement)("div",{className:"list-item__table_row__actions"},Object(r.createElement)(w.Button,{isSecondary:!0,isLarge:!0,disabled:!1!==c},Object(E.__)("Preview")),Object(r.createElement)(w.Button,{isPrimary:!0,isLarge:!0,isBusy:"importing"===c,disabled:!1!==c},Object(E.__)("Import"))))};function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _e=function(e){var t=e.library,n=e.setLibrary;Object(r.useEffect)((function(){i(!0),s()}),[]);var o=Object(r.useState)(!1),a=j()(o,2),c=a[0],i=a[1],s=function(){var e=P()(M.a.mark((function e(){var t,r,o,a=arguments;return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:{},r=Object(te.stringifyUrl)({url:window.tiobDash.endpoint,query:we(we(we({cache:window.localStorage.getItem("tpcCacheBuster")},window.tiobDash.params),t),{},{pre_page:100})}),e.prev=2,e.next=5,re()({url:r,method:"GET"});case 5:o=e.sent,n(o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),e.t0.message&&console.log(e.t0.message);case 12:i(!1);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();return c?Object(r.createElement)(w.Spinner,null):t.length>0?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"list-item__table"},t.map((function(e){return Object(r.createElement)(je,{key:e.template_id,item:e,loadTemplates:s})})))):Object(r.createElement)(r.Fragment,null,Object(E.__)("No templates available. Try adding a new one!"))},Se=Object(_.compose)(Object(h.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setOnboardingState,r=t.setCurrentCategory;return{cancelOnboarding:function(){n(!1)},resetCategory:function(){r("all")},setCurrentTab:t.setCurrentTab}})),Object(h.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getCurrentCategory,o=t.getPreviewStatus,a=t.getCurrentSite,c=t.getImportModalStatus,i=t.getOnboardingStatus,s=t.getSites,l=t.getInstallModalStatus,u=t.getCurrentTab;return{editor:n(),category:r(),previewOpen:o(),currentSiteData:a(),importModal:c(),installModal:l(),isOnboarding:i(),getSites:s(),currentTab:u()}})))((function(e){var t=e.editor,n=e.category,o=e.resetCategory,a=e.previewOpen,c=e.currentSiteData,i=e.importModal,s=e.isOnboarding,l=e.cancelOnboarding,u=e.getSites,p=e.installModal,m=e.currentTab,d=e.setCurrentTab,f=Object(r.useState)(""),h=j()(f,2),b=h[0],v=h[1],y=Object(r.useState)(9),_=j()(y,2),x=_[0],M=_[1],N=u.sites,P=void 0===N?{}:N,D=u.migration,T=Object(r.useState)(!1),I=j()(T,2),L=I[0],A=I[1],R=Object(r.useState)([]),F=j()(R,2),B=F[0],z=F[1];if(1>P.length)return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",null,Object(E.__)("Starter sites could not be loaded. Please refresh and try again.","neve"),s&&Object(r.createElement)(w.Button,{style:{display:"block",margin:"20px auto"},isPrimary:!0,onClick:l},Object(E.__)("Close","templates-patterns-collection"))));var U=[Object(E.__)("Business","templates-patterns-collection"),Object(E.__)("Ecommerce","templates-patterns-collection"),Object(E.__)("Fashion","templates-patterns-collection"),Object(E.__)("Blogging","templates-patterns-collection"),Object(E.__)("Photography","templates-patterns-collection")],$={all:Object(E.__)("All Categories"),free:Object(E.__)("Free"),business:Object(E.__)("Business"),portfolio:Object(E.__)("Portfolio"),woocommerce:Object(E.__)("WooCommerce"),blog:Object(E.__)("Blog"),personal:Object(E.__)("Personal"),other:Object(E.__)("Other")},H={gutenberg:{icon:"gutenberg.jpg",niceName:"Gutenberg"},elementor:{icon:"elementor.jpg",niceName:"Elementor"},"beaver builder":{icon:"beaver.jpg",niceName:Object(r.createElement)(r.Fragment,null,"Beaver ",Object(r.createElement)("span",{className:"long-name"},"Builder"))},brizy:{icon:"brizy.jpg",niceName:"Brizy"},"divi builder":{icon:"divi.jpg",niceName:"Divi"},"thrive architect":{icon:"thrive.jpg",niceName:Object(r.createElement)(r.Fragment,null,"Thrive ",Object(r.createElement)("span",{className:"long-name"},"Architect"))}},G=function(){var e={};return ne().map((function(t){var n=P&&P[t]?P[t]:{};e[t]=O()(Object.values(n))})),e},K=function(e,t){return"free"===t?e.filter((function(e){return!e.upsell})):"all"!==t?e.filter((function(e){return e.keywords.includes(t)})):e},X=function(e){return b?new Y.a(e,{includeScore:!0,keys:["title","slug","keywords"]}).search(b).map((function(e){return e.item})):e},te=function(e){return G()[e]},ne=function(){return Object.keys(P)},re=function(){var e=G()[t];return e=X(e),e=K(e,n)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===c)return null;var n=G()[t],r=n.indexOf(c);return-1===r||1===n.length?null:e&&0===r?n[n.length-1]:e||r!==n.length-1?n[e?r-1:r+1]:n[0]};var ae,ce=ne().filter((function(e){return Object.keys(P[e]).filter((function(t){return!0===P[e][t].upsell})).length===Object.keys(P[e]).length})),ie=(ae={builders:{},categories:{}},ne().map((function(e){var t=te(e);t=K(t,n),t=X(t),ae.builders[e]=t?t.length:0})),Object.keys($).map((function(e){var n=te(t);n=K(n,e),n=X(n),ae.categories[e]=n?n.length:0})),ae);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"ob"},L&&!s&&Object(r.createElement)("div",{className:"sticky-nav"},Object(r.createElement)("div",{className:"container sticky-nav-content"},!window.tiobDash.brandedTheme&&Object(r.createElement)(w.Icon,{icon:ee,size:32}),Object(r.createElement)(S,{count:ie.categories,categories:$,onSearch:function(e){v(e),M(9)},query:b}),Object(r.createElement)(Q,{isSmall:!0,count:ie.builders,EDITOR_MAP:H}))),D?Object(r.createElement)(q,{data:D}):null,Object(r.createElement)("div",{className:"ob-head"},!s&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"header-container"},Object(r.createElement)("h2",null,!window.tiobDash.brandedTheme&&Object(r.createElement)(w.Icon,{icon:ee}),Object(r.createElement)("span",null,Object(E.__)("Templates Cloud","neve"))),Object(r.createElement)("div",{className:"header-nav"},Object(r.createElement)(w.Button,{isTertiary:!0,isPressed:"templates"===m,onClick:function(){return d("templates")}},Object(E.__)("Page Templates","neve")),Object(r.createElement)(w.Button,{isTertiary:!0,isPressed:"library"===m,onClick:function(){return d("library")}},Object(E.__)("My Library","neve"))))),s&&Object(r.createElement)(w.Button,{className:"close-onboarding",isLink:!0,icon:"no-alt",onClick:l})),Object(r.createElement)("div",{className:"ob-body"},Object(r.createElement)(J.a,{onChange:function(e){A(!e)}},Object(r.createElement)("div",null,Object(r.createElement)("p",{className:"instructions"},window.tiobDash.strings.starterSitesTabDescription),"templates"===m&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(Q,{count:ie.builders,EDITOR_MAP:H}),Object(r.createElement)(S,{count:ie.categories,categories:$,onSearch:function(e){v(e),M(9)},query:b}),Object(r.createElement)(Z,{EDITOR_MAP:H,onlyProSites:ce,count:ie.builders})))),0===re().length?Object(r.createElement)("div",{className:"no-results"},Object(r.createElement)("p",null,Object(E.__)("No results found","templates-patterns-collection"),"."," ",Object(E.__)("You can try a different search or use one of the categories below.","neve")),Object(r.createElement)("div",{className:"tags"},U.map((function(e,t){return Object(r.createElement)(w.Button,{key:t,isPrimary:!0,className:"tag",onClick:function(t){t.preventDefault(),v(e),o()}},e)})))):Object(r.createElement)("div",{className:g()("ob-sites",{"is-grid":"library"!==m})},"templates"===m?re().slice(0,x).map((function(e,t){return Object(r.createElement)(k,{key:t,data:e})})):Object(r.createElement)(_e,{library:B,setLibrary:z})),Object(r.createElement)(J.a,{onChange:function(e){if(!e)return!1;M(x+9)}},Object(r.createElement)("span",{style:{height:10,width:10,display:"block"}})))),a&&c&&Object(r.createElement)(C,{next:oe(),prev:oe(!0)}),i&&c&&Object(r.createElement)(V,null),p&&Object(r.createElement)(W,null))})),ke=Object(h.withSelect)((function(e){return{onboarding:(0,e("neve-onboarding").getOnboardingStatus)()}}))((function(e){var t=e.onboarding,n=g()(["content-wrap","starter-sites",{"is-onboarding":t}]);return Object(r.createElement)("div",{className:"tiob-wrap"},Object(r.createElement)("div",{className:n},Object(r.createElement)("div",{className:"container content"},Object(r.createElement)("div",{className:"main"},Object(r.createElement)("div",{className:"tab-content columns starter-sites"},Object(r.createElement)(Se,null))))))}));Object(h.registerStore)("neve-onboarding",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_SITES":var n=t.payload.sites;return i(i({},e),{},{sites:n});case"SET_CURRENT_EDITOR":var r=t.payload.editor;return localStorage.setItem("neve-onboarding-editor",r),i(i({},e),{},{editor:r});case"SET_CURRENT_CATEGORY":var o=t.payload.category;return i(i({},e),{},{category:o});case"SET_FOCUSED_SITE":var a=t.payload.siteData;return i(i({},e),{},{currentSite:a});case"SET_PREVIEW_STATUS":var c=t.payload.previewStatus;return i(i({},e),{},{previewStatus:c});case"SET_IMPORT_MODAL_STATUS":var s=t.payload.importModalStatus;return i(i({},e),{},{importModalStatus:s});case"SET_INSTALL_MODAL_STATUS":var l=t.payload.installModalStatus;return i(i({},e),{},{installModalStatus:l});case"SET_ONBOARDING":var u=t.payload.status;return i(i({},e),{},{isOnboarding:u});case"SET_THEME_ACTIONS":var p=t.payload.themeActions;return i(i({},e),{},{themeAction:p});case"SET_CURRENT_TAB":var m=t.payload.currentTab;return i(i({},e),{},{currentTab:m})}return e},actions:f,selectors:{getSites:function(e){return e.sites},getMigrationData:function(e){return e.migrationData},getCurrentEditor:function(e){return e.editor},getCurrentCategory:function(e){return e.category},getCurrentSite:function(e){return e.currentSite},getPreviewStatus:function(e){return e.previewStatus},getImportModalStatus:function(e){return e.importModalStatus},getOnboardingStatus:function(e){return e.isOnboarding},getThemeAction:function(e){return e.themeAction},getInstallModalStatus:function(e){return e.installModalStatus},getCurrentTab:function(e){return e.currentTab}}}),Object(r.render)(Object(r.createElement)(ke,null),document.getElementById("tpc-app"))}]);